<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux | 凉冰的手记</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/favicon.ico">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/192.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#2196f3">
    <meta name="description" content="记录生活的精彩瞬间，记录一个程序猿的成长！">
    <meta name="keywords" content="琐事，小记">
    <meta name="author" href="凉冰">
    <meta name="theme-color" content="#2196f3">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/assets/css/0.styles.59ed400b.css" as="style"><link rel="preload" href="/assets/js/app.3ee2b30c.js" as="script"><link rel="preload" href="/assets/js/2.fc657b59.js" as="script"><link rel="preload" href="/assets/js/139.5ed042c0.js" as="script"><link rel="preload" href="/assets/js/3.e0ec9727.js" as="script"><link rel="prefetch" href="/assets/js/10.eb4f1714.js"><link rel="prefetch" href="/assets/js/100.60572966.js"><link rel="prefetch" href="/assets/js/101.d94775a6.js"><link rel="prefetch" href="/assets/js/102.354c87f2.js"><link rel="prefetch" href="/assets/js/103.0322d8d3.js"><link rel="prefetch" href="/assets/js/104.330ce470.js"><link rel="prefetch" href="/assets/js/105.f2c0cf7b.js"><link rel="prefetch" href="/assets/js/106.9b15e481.js"><link rel="prefetch" href="/assets/js/107.f83846c8.js"><link rel="prefetch" href="/assets/js/108.fd868043.js"><link rel="prefetch" href="/assets/js/109.144984d2.js"><link rel="prefetch" href="/assets/js/11.1f4ed2b0.js"><link rel="prefetch" href="/assets/js/110.393075aa.js"><link rel="prefetch" href="/assets/js/111.8e2be411.js"><link rel="prefetch" href="/assets/js/112.f5db1301.js"><link rel="prefetch" href="/assets/js/113.c5a49956.js"><link rel="prefetch" href="/assets/js/114.f7400c29.js"><link rel="prefetch" href="/assets/js/115.0d4d9691.js"><link rel="prefetch" href="/assets/js/116.5e2d0bba.js"><link rel="prefetch" href="/assets/js/117.b9b6cd5c.js"><link rel="prefetch" href="/assets/js/118.cfffe6ca.js"><link rel="prefetch" href="/assets/js/119.faeb006b.js"><link rel="prefetch" href="/assets/js/12.c55c2945.js"><link rel="prefetch" href="/assets/js/120.2c87041a.js"><link rel="prefetch" href="/assets/js/121.6d6d525b.js"><link rel="prefetch" href="/assets/js/122.a378a709.js"><link rel="prefetch" href="/assets/js/123.8a44d7e0.js"><link rel="prefetch" href="/assets/js/124.eef03f70.js"><link rel="prefetch" href="/assets/js/125.20627b3b.js"><link rel="prefetch" href="/assets/js/126.02bdd70b.js"><link rel="prefetch" href="/assets/js/127.6aaf85c7.js"><link rel="prefetch" href="/assets/js/128.2f2f6b78.js"><link rel="prefetch" href="/assets/js/129.b1f7d667.js"><link rel="prefetch" href="/assets/js/13.b5382928.js"><link rel="prefetch" href="/assets/js/130.aadb5b72.js"><link rel="prefetch" href="/assets/js/131.0a0ad3b4.js"><link rel="prefetch" href="/assets/js/132.a05a0c00.js"><link rel="prefetch" href="/assets/js/133.584b8785.js"><link rel="prefetch" href="/assets/js/134.ab61764f.js"><link rel="prefetch" href="/assets/js/135.ccae4853.js"><link rel="prefetch" href="/assets/js/136.38fdaa61.js"><link rel="prefetch" href="/assets/js/137.502d74c0.js"><link rel="prefetch" href="/assets/js/138.12a12ee7.js"><link rel="prefetch" href="/assets/js/14.9bf49d25.js"><link rel="prefetch" href="/assets/js/140.32ffb0bc.js"><link rel="prefetch" href="/assets/js/141.3b99bc3f.js"><link rel="prefetch" href="/assets/js/142.afd3e1e7.js"><link rel="prefetch" href="/assets/js/143.ad7b5934.js"><link rel="prefetch" href="/assets/js/144.7bdbdbd9.js"><link rel="prefetch" href="/assets/js/145.3f68756b.js"><link rel="prefetch" href="/assets/js/146.a48f80c3.js"><link rel="prefetch" href="/assets/js/147.eb3a30a3.js"><link rel="prefetch" href="/assets/js/148.563f4279.js"><link rel="prefetch" href="/assets/js/149.7627333e.js"><link rel="prefetch" href="/assets/js/15.47e2fe44.js"><link rel="prefetch" href="/assets/js/150.7cf4b6fd.js"><link rel="prefetch" href="/assets/js/151.200e2d36.js"><link rel="prefetch" href="/assets/js/152.68d5a6f8.js"><link rel="prefetch" href="/assets/js/153.4019d1b1.js"><link rel="prefetch" href="/assets/js/154.7c56b873.js"><link rel="prefetch" href="/assets/js/155.8a895428.js"><link rel="prefetch" href="/assets/js/156.9a106f9c.js"><link rel="prefetch" href="/assets/js/157.b585e3f5.js"><link rel="prefetch" href="/assets/js/158.a9ffbcc1.js"><link rel="prefetch" href="/assets/js/159.9bd41101.js"><link rel="prefetch" href="/assets/js/16.709e62a0.js"><link rel="prefetch" href="/assets/js/17.b149e3eb.js"><link rel="prefetch" href="/assets/js/18.5b57a250.js"><link rel="prefetch" href="/assets/js/19.d2aedd09.js"><link rel="prefetch" href="/assets/js/20.13fd637f.js"><link rel="prefetch" href="/assets/js/21.91dc71fa.js"><link rel="prefetch" href="/assets/js/22.b44ebaaf.js"><link rel="prefetch" href="/assets/js/23.85274bf7.js"><link rel="prefetch" href="/assets/js/24.fdcf9dad.js"><link rel="prefetch" href="/assets/js/25.d7834455.js"><link rel="prefetch" href="/assets/js/26.149bb0bb.js"><link rel="prefetch" href="/assets/js/27.fe47c303.js"><link rel="prefetch" href="/assets/js/28.106a053b.js"><link rel="prefetch" href="/assets/js/29.5cbd445a.js"><link rel="prefetch" href="/assets/js/30.bc8be6db.js"><link rel="prefetch" href="/assets/js/31.776bb22e.js"><link rel="prefetch" href="/assets/js/32.38f1617c.js"><link rel="prefetch" href="/assets/js/33.764d5e8e.js"><link rel="prefetch" href="/assets/js/34.ee4b3664.js"><link rel="prefetch" href="/assets/js/35.0c8a4552.js"><link rel="prefetch" href="/assets/js/36.3114f265.js"><link rel="prefetch" href="/assets/js/37.6623c809.js"><link rel="prefetch" href="/assets/js/38.47b2ae3c.js"><link rel="prefetch" href="/assets/js/39.66477360.js"><link rel="prefetch" href="/assets/js/4.7bd8ec5a.js"><link rel="prefetch" href="/assets/js/40.3c1369b3.js"><link rel="prefetch" href="/assets/js/41.ba422769.js"><link rel="prefetch" href="/assets/js/42.d8feaaee.js"><link rel="prefetch" href="/assets/js/43.7a023784.js"><link rel="prefetch" href="/assets/js/44.578065d4.js"><link rel="prefetch" href="/assets/js/45.599d10a9.js"><link rel="prefetch" href="/assets/js/46.68c58a57.js"><link rel="prefetch" href="/assets/js/47.a0e48134.js"><link rel="prefetch" href="/assets/js/48.a8edc4f3.js"><link rel="prefetch" href="/assets/js/49.a98d9884.js"><link rel="prefetch" href="/assets/js/5.bc317ee9.js"><link rel="prefetch" href="/assets/js/50.7001c5b8.js"><link rel="prefetch" href="/assets/js/51.43d17700.js"><link rel="prefetch" href="/assets/js/52.9ad031a9.js"><link rel="prefetch" href="/assets/js/53.8347b740.js"><link rel="prefetch" href="/assets/js/54.73a1db12.js"><link rel="prefetch" href="/assets/js/55.06ac4334.js"><link rel="prefetch" href="/assets/js/56.caf42a7a.js"><link rel="prefetch" href="/assets/js/57.c8af04ff.js"><link rel="prefetch" href="/assets/js/58.259c0df6.js"><link rel="prefetch" href="/assets/js/59.4a73da6e.js"><link rel="prefetch" href="/assets/js/6.da0024ba.js"><link rel="prefetch" href="/assets/js/60.c88072d5.js"><link rel="prefetch" href="/assets/js/61.a3a06ae4.js"><link rel="prefetch" href="/assets/js/62.e5adc7b0.js"><link rel="prefetch" href="/assets/js/63.48cc1305.js"><link rel="prefetch" href="/assets/js/64.86f8647c.js"><link rel="prefetch" href="/assets/js/65.005e380e.js"><link rel="prefetch" href="/assets/js/66.67bff065.js"><link rel="prefetch" href="/assets/js/67.e12b4c13.js"><link rel="prefetch" href="/assets/js/68.0161e8c6.js"><link rel="prefetch" href="/assets/js/69.5aaf7b82.js"><link rel="prefetch" href="/assets/js/7.1d00dc1d.js"><link rel="prefetch" href="/assets/js/70.6a645155.js"><link rel="prefetch" href="/assets/js/71.001a3225.js"><link rel="prefetch" href="/assets/js/72.2850a293.js"><link rel="prefetch" href="/assets/js/73.d250e0c6.js"><link rel="prefetch" href="/assets/js/74.dafa5bc3.js"><link rel="prefetch" href="/assets/js/75.22c6b92e.js"><link rel="prefetch" href="/assets/js/76.24bc0a51.js"><link rel="prefetch" href="/assets/js/77.e38213b8.js"><link rel="prefetch" href="/assets/js/78.a22de10e.js"><link rel="prefetch" href="/assets/js/79.b0e7fed2.js"><link rel="prefetch" href="/assets/js/8.b16448cb.js"><link rel="prefetch" href="/assets/js/80.67472401.js"><link rel="prefetch" href="/assets/js/81.1df69f3e.js"><link rel="prefetch" href="/assets/js/82.022c9317.js"><link rel="prefetch" href="/assets/js/83.8894e626.js"><link rel="prefetch" href="/assets/js/84.e9f038d8.js"><link rel="prefetch" href="/assets/js/85.ff3971f7.js"><link rel="prefetch" href="/assets/js/86.24e53411.js"><link rel="prefetch" href="/assets/js/87.95b56dc2.js"><link rel="prefetch" href="/assets/js/88.4557cc7d.js"><link rel="prefetch" href="/assets/js/89.1337890b.js"><link rel="prefetch" href="/assets/js/9.1b8d4154.js"><link rel="prefetch" href="/assets/js/90.29d24983.js"><link rel="prefetch" href="/assets/js/91.84b2e3eb.js"><link rel="prefetch" href="/assets/js/92.23e2abeb.js"><link rel="prefetch" href="/assets/js/93.162e9b76.js"><link rel="prefetch" href="/assets/js/94.9ada79ba.js"><link rel="prefetch" href="/assets/js/95.5cc24e13.js"><link rel="prefetch" href="/assets/js/96.0ee67f9e.js"><link rel="prefetch" href="/assets/js/97.9f98bf38.js"><link rel="prefetch" href="/assets/js/98.58600000.js"><link rel="prefetch" href="/assets/js/99.f8a36889.js">
    <link rel="stylesheet" href="/assets/css/0.styles.59ed400b.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/恶魔.webp" alt="凉冰的手记" class="logo"> <span class="site-name can-hide">凉冰的手记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/Java-C/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/back/javaWeb/" class="nav-link">JavaWeb</a></li><li class="dropdown-item"><!----> <a href="/back/sql/" class="nav-link">数据库</a></li><li class="dropdown-item"><!----> <a href="/back/SSM/" class="nav-link">SSM</a></li><li class="dropdown-item"><!----> <a href="/back/SpringBoot/" class="nav-link">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/back/Microservice/" class="nav-link">微服务</a></li></ul></div></div><div class="nav-item"><a href="/Algorithm/" class="nav-link">算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technology/Git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/technology/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/pages/b5d182/" class="nav-link">正则表达式</a></li></ul></div></div><div class="nav-item"><a href="/pages/edb686/" class="nav-link">面试</a></div><div class="nav-item"><a href="/pages/2aa63b/" class="nav-link">项目记录</a></div><div class="nav-item"><a href="/pages/1b70fb/" class="nav-link">DOA</a></div><div class="nav-item"><a href="/pages/d591da/" class="nav-link">精彩瞬间</a></div><div class="nav-item"><a href="/pages/961a83/" class="nav-link">任意门</a></div><div class="nav-item"><a href="https://github.com/diana-devil/diana-devil.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/devil.jpg"> <div class="blogger-info"><h3>凉冰</h3> <span>奋勇向前的可爱小恶魔！</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">主页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/Java-C/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/back/java/" class="nav-link">Java</a></li><li class="dropdown-item"><!----> <a href="/back/javaWeb/" class="nav-link">JavaWeb</a></li><li class="dropdown-item"><!----> <a href="/back/sql/" class="nav-link">数据库</a></li><li class="dropdown-item"><!----> <a href="/back/SSM/" class="nav-link">SSM</a></li><li class="dropdown-item"><!----> <a href="/back/SpringBoot/" class="nav-link">SpringBoot</a></li><li class="dropdown-item"><!----> <a href="/back/Microservice/" class="nav-link">微服务</a></li></ul></div></div><div class="nav-item"><a href="/Algorithm/" class="nav-link">算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/technology/Git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/technology/Linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/pages/b5d182/" class="nav-link">正则表达式</a></li></ul></div></div><div class="nav-item"><a href="/pages/edb686/" class="nav-link">面试</a></div><div class="nav-item"><a href="/pages/2aa63b/" class="nav-link">项目记录</a></div><div class="nav-item"><a href="/pages/1b70fb/" class="nav-link">DOA</a></div><div class="nav-item"><a href="/pages/d591da/" class="nav-link">精彩瞬间</a></div><div class="nav-item"><a href="/pages/961a83/" class="nav-link">任意门</a></div><div class="nav-item"><a href="https://github.com/diana-devil/diana-devil.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Linux</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/373d5a/" aria-current="page" class="active sidebar-link">Linux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/373d5a/#快捷键" class="sidebar-link">快捷键</a></li><li class="sidebar-sub-header level2"><a href="/pages/373d5a/#常用命令" class="sidebar-link">常用命令</a></li><li class="sidebar-sub-header level2"><a href="/pages/373d5a/#高级指令" class="sidebar-link">高级指令</a></li><li class="sidebar-sub-header level2"><a href="/pages/373d5a/#指令应用" class="sidebar-link">指令应用</a></li><li class="sidebar-sub-header level2"><a href="/pages/373d5a/#linux自有服务" class="sidebar-link">Linux自有服务</a></li><li class="sidebar-sub-header level2"><a href="/pages/373d5a/#任务调度" class="sidebar-link">任务调度</a></li><li class="sidebar-sub-header level2"><a href="/pages/373d5a/#linux分区" class="sidebar-link">Linux分区</a></li><li class="sidebar-sub-header level2"><a href="/pages/373d5a/#网络配置" class="sidebar-link">网络配置</a></li><li class="sidebar-sub-header level2"><a href="/pages/373d5a/#linux软件安装" class="sidebar-link">Linux软件安装</a></li><li class="sidebar-sub-header level2"><a href="/pages/373d5a/#linux项目部署" class="sidebar-link">Linux项目部署</a></li></ul></li><li><a href="/pages/549714/" class="sidebar-link">vim编辑器</a></li><li><a href="/pages/343c9a/" class="sidebar-link">Linux面试题</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>正则表达式</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E6%8A%80%E6%9C%AF" title="分类" data-v-06225672>技术</a></li><li data-v-06225672><a href="/categories/?category=Linux" title="分类" data-v-06225672>Linux</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/diana-devil" target="_blank" title="作者" class="beLink" data-v-06225672>凉冰</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-06-30</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Linux<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="linux基础"><a href="#linux基础" class="header-anchor">#</a> Linux基础</h1> <h2 id="快捷键"><a href="#快捷键" class="header-anchor">#</a> 快捷键</h2> <ul><li><code>Ctrl+C</code>——停止命令</li> <li><code>Ctrl+u</code>——快速删除光标前的内容</li> <li><code>Ctrl+k</code>——快速删除光标后的内容</li> <li><code>Ctrl+shift+c</code>/<code>Ctrl+Insert</code>——复制</li> <li><code>Ctrl+shift+v</code>/<code>Shift+Insert</code>——粘贴</li> <li>选中+鼠标中键——自动填充到命令行</li> <li><code>Ctrl+Alt+T</code>——打开终端（乌班图）</li> <li><code>Tab</code>键自动补全</li> <li>连续两次<code>Tab</code>,给出操作提示</li> <li>上下箭头调用层用命令</li> <li>使用<code>clear</code>命令或者<code>Ctrl+l</code>实现清屏</li></ul> <h2 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h2> <h4 id="命令格式"><a href="#命令格式" class="header-anchor">#</a> 命令格式</h4> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F.png" alt="命令格式"></p> <h4 id="文件目录操作命令"><a href="#文件目录操作命令" class="header-anchor">#</a> 文件目录操作命令</h4> <ul><li><p><code>pwd</code> ——查看当前目录位置</p></li> <li><p><code>tree</code>——查看树形目录结构</p></li> <li><p><code>head [-n] fileName</code>——查看文件前n行内容，默认n=10</p></li> <li><p><code>wc -l fileName</code>——统计文件行数（-l 行数  ，-w 单词数，-c字节数）</p></li> <li><p><code>free -h</code>——查询内存</p></li> <li><p><code>df -h</code>——查看磁盘空间</p></li> <li><p><code>echo</code>—— 输出环境变量；输出字符串</p> <ul><li><p><code>echo $PATH</code></p></li> <li><p><code>echo hello world!</code></p></li></ul></li> <li><p><code>ls</code>——查看当前目录下所有文件</p> <ul><li><p>命令说明    <strong><code>ls [-al] [dir]</code></strong></p> <ul><li><code>-a</code> ：显示所有文件及目录（.开头的隐藏文件也会列出）</li> <li><code>-l</code>：处文件名称外，同时将文件形态（d表示目录，-表示文件）、权限、拥有者、文件大小等详细信息列出</li></ul></li> <li><p>实例</p> <ul><li><code>ls -a</code>——查看所有文件，包含隐藏文件，不显示详细信息</li> <li><code>ls -l</code>——查看非隐藏文件的详细信息</li> <li><strong><code>ll</code>——<code>ls -l</code>的简写</strong></li> <li><code>ls -al</code>——查看所有文件的详细信息</li></ul></li></ul></li> <li><p><code>cd 目录名</code>——进入某个文件夹下</p> <ul><li><code>cd \</code>——进入根目录</li> <li><code>cd ..</code>——表示目前目录位置的上级目录</li> <li><code>cd .</code>——表示目前所在目录</li> <li><code>cd ~</code>——表示用户的home目录</li> <li><code>cd diana</code>——进入当前目录下的diana文件目录中</li> <li><code>cd /diana</code>——进入<strong>根目录下</strong>的diana文件目录中，<strong>开头的第一个<code>/</code>表示根目录</strong></li></ul></li> <li><p><code>cat [-n] fileName</code>——显示文件内容（全部）</p> <ul><li>说明
<ul><li><code>-n</code> 由1开始对所有输出的行数的编号</li></ul></li> <li>实例
<ul><li><code>cat /etc/profile</code>——查看/etc目录下的profile文件内容</li></ul></li></ul></li> <li><p><code>cat fileName1 fileName2 fileName3 &gt; fileName4</code>——将前三个文件的内容合并到第四个文件中，并打开</p> <ul><li>实例
<ul><li><code>cat 1.txt 2.txt &gt;3.txt</code>——将前1.txt，2.txt文件的内容合并到3.txt文件中，并打开</li></ul></li></ul></li> <li><p><code>more fileName</code>——以分页的形式显示文件内容</p> <p><strong>一次性将文件全部加载，效率比较低</strong></p> <ul><li>说明
<ul><li>回车键，   向下滚动一行</li> <li>空格键，<code>ctrl+F</code>    向下滚动一屏</li> <li>b，<code>ctrl+B</code>     返回上一屏</li> <li>q，ctrl+c，退出more</li> <li><code>=</code>  输出当前行号</li> <li><code>:f</code> 输出文件名和当前行的行号</li></ul></li> <li>实例
<ul><li><code>more /etc/profile</code>——以分页方式展示/etc目录下的profile文件内容</li></ul></li></ul></li> <li><p><code>less fileName</code>——以分页的形式显示文件内容</p> <p><strong>显示一部分记载一部分，速度更快,适合大文件</strong></p> <ul><li>说明
<ul><li>方向上键——向上一行</li> <li>回车键，方向下键 ——向下滚动一行</li> <li>空格键，<code>pg dn</code>——向下滚动一屏</li> <li><code>pg up</code>  ——向上滚动一屏</li> <li>q，ctrl+c，退出more</li> <li><code>/字符串</code>  ——向下搜寻字符串的功能， n:向下查找 ；N:向上查找</li> <li><code>?字符串</code>  ——向下搜寻字符串的功能， n:向下查找 ；N:向上查找</li></ul></li> <li>实例
<ul><li><code>less /etc/profile</code>——以分页方式展示/etc目录下的profile文件内容</li></ul></li></ul></li> <li><p><code>tail [-f] fileName</code>——查看文件末尾的内容（默认后10行）（自己手动的不可以显示）（<strong>一般用来查看日志</strong>）</p> <ul><li>说明
<ul><li><code>-f</code> 动态读取文件末尾内容并显示，通常用于日志文件的内容输出</li></ul></li> <li>实例
<ul><li><code>tail /etc/profile</code>——显示/etc目录下profile文件末尾10行的内容</li> <li><code>tail -20/etc/profile</code>——显示 /etc目录下的profile文件末尾20行的内容</li> <li><code>tail -f/diana/my.log</code>——<strong>动态读取</strong> /diana目录下的my.log文件末尾内容并显示</li></ul></li></ul></li> <li><p><code>mkdir [-p] dirName</code>——创建目录</p> <ul><li><p>说明</p> <ul><li><code>-p</code> 确保目录名称存在，不存在的就创建一个。通过此选项，可是实现多层目录同时创建</li></ul></li> <li><p>实例</p> <ul><li><p><code>mkdir java</code>——在当前目录下，创建名为java的子目录</p></li> <li><p><code>mkdir -p diana/java</code>——在工作目录diana中创建一个java子目录，如果diana目录不存在，则创建。<strong>即可以一次性创建多层文件目录</strong></p></li></ul></li></ul></li> <li><p><code>rmdir [-p] dirName</code>——删除<strong>空</strong>目录</p> <ul><li>说明
<ul><li><code>-p</code> 当子目录被删除后，使父目录为空的话，一并删除</li></ul></li> <li>实例
<ul><li><code>rmdir diana</code>——删除名为diana的空目录</li> <li><code>rmdir -p diana/test</code>——删除diana目录下的test目录，若删除后，diana为空目录，则删除diana</li> <li><code>rmdir diana*</code>——删除名称以diana开头的空目录</li></ul></li></ul></li> <li><p><code>rm[-rf] name</code>——删除文件或目录</p> <ul><li><p>说明</p> <ul><li><code>-r</code> 将目录及目录中所有文件（目录）逐一删除，即递归删除</li> <li><code>-f</code>无需确认，强制删除</li></ul></li> <li><p>实例</p></li> <li><p><code>rf 1.txt</code>——删除1.txt文件，会询问是否删除</p></li> <li><p><code>rm -f 1.txt</code>——强制删除1.txt，不会询问</p></li> <li><p><code>rm -rf /*</code>——强制删除根目录下所有文件</p></li> <li><p><code>rm -r diana/</code>——删除名为diana的目录和目录中的所有文件，删除前需确认</p></li></ul></li> <li><p><code>touch fileName</code>——如果文件不存在，新建文件</p> <ul><li><code>touch 1.txt</code>——创建1.txt</li></ul></li> <li><p>输出重定向</p> <ul><li><p><code>&gt;</code>    ——覆盖</p> <ul><li>新输入的内容会覆盖原来全部的内容</li></ul></li> <li><p><code>&gt;&gt;</code> ——追加</p> <ul><li>追加写，继续在后面写</li></ul></li> <li><p><code>ls -a &gt; ls.txt</code>——将当前目录信息输出到<code>ls.txt</code>中</p></li> <li><p><code>cat file1 &gt; file 2</code>——将文件1的内容覆盖到文件2   可以用于快速复制粘贴改名</p></li></ul></li> <li><p><code>ln</code>——符号链接，类似于快捷方式</p> <ul><li><code>ln -s [原文件或目录] [软链接名]</code>——给原文件创建一个软连接(快捷方式)</li> <li><code>ln -s /root /home/diana/myroot</code>——在diana目录下创建一个root目录的软连接</li> <li><code>ln -s /etc/sysconfig/network-scripts/ifcfg-ens33 ~/ifcfg-ens33</code>——将网卡配置文件软连接到家（root用户的目录是root）目录下</li></ul></li> <li><p><code>history</code>——查看历史指令</p> <ul><li><code>history 10</code>——显示历史的近10行指令</li> <li><code>!15</code>——执行第历史命令的第15条命令</li></ul></li></ul> <h4 id="拷贝移动命令"><a href="#拷贝移动命令" class="header-anchor">#</a> 拷贝移动命令</h4> <ul><li><p><code>cp [-r] source dest</code>——用于复制文件或目录</p> <ul><li>说明
<ul><li><code>-r</code> 如果复制的是目录需要使用此选项，此时将复刻该目录下所有的子目录和文件</li> <li><code>\cp</code> 强制覆盖 不给出提示</li></ul></li> <li>实例
<ul><li><code>cp 1.txt diana/</code> ——将1.txt文件复制到diana目录中</li> <li><code>cp 1.txt ./2.txt</code>——将1.txt复制到当前目录下，并改名为2.txt</li> <li><code>cp -r diana/ ./diane</code>——将<strong>diana目录及目录下所有文件</strong>复制到当前目录下的diane目录下
<ul><li>这就相当于将整个文件夹diana作为一个整体copy了过去</li> <li>copy完后目录结构为   <code>diane/diana/file</code></li></ul></li> <li><code>cp -r diana/* ./diane</code>——将<strong>diana目录下所有文件</strong>复制到当前目录下的diane目录下
<ul><li>这就相当于将整个文件夹下的所有文件作为一个整体copy了过去</li> <li>copy完后目录结构为   <code>diane/file</code></li></ul></li></ul></li></ul></li> <li><p><code>mv source dest</code>——为文件或目录改名、或将文件或目录移动到其他位置</p> <ul><li>实例
<ul><li><code>mv 1.txt 2.txt</code>——将1.txt重命名为2.txt</li> <li><code>mv 1.txt diana/</code>——将文件1.txt移动到diana文件目录下</li> <li><code>mv 1.txt diana/2.txt</code>——将1.txt移动到diana目录下，并改名为2.txt</li> <li><code>mv diana/ diane/</code>——如果diane目录不存在，将diana目录改名为diane</li> <li><code>mv diana/ diane/</code>——如果diane目录存在，将diana目录移动到diane目录下</li> <li><code>mv diana/* diane/</code>——如果diane目录存在，将diane目录下的所有文件移动到diane目录下</li> <li><code>mv diana/* diane/</code>——如果diane目录不存在，<strong>报错</strong></li></ul></li></ul></li></ul> <h4 id="打包压缩命令"><a href="#打包压缩命令" class="header-anchor">#</a> 打包压缩命令</h4> <ul><li><p><code>gzip/gunzip</code>——压缩/解压缩 文件</p> <ul><li><code>gzip ls.txt</code>——压缩文件   <code>ls.txt</code>——&gt;<code>ls.txt.gz</code></li> <li><code>gunzip ls.txt.gz</code></li></ul></li> <li><p><code>zip/unzip</code>——压缩/解压缩 文件</p> <ul><li><code>zip -r 1.zip diana</code>——将diana目录及目录下所有文件 压缩成1.zip</li> <li><code>unzip -d ./lb 1.zip</code>——将1.zip 解压到当前的<code>lb</code>目录下</li></ul></li> <li><p><code>tar [-zcxvf] fileName [files]</code>——对文件进行 打包、解包、压缩、解压</p> <ul><li><p>包文件后缀为 .tar表示只是完成了打包，并没有压缩</p></li> <li><p>包文件后缀为.tar.gz表示打包的同时还进行了压缩</p></li> <li><p>说明</p> <ul><li><p><code>-z</code>:    z代表的是 <code>gzip</code>，通过gzip命令处理文件，gzip可以对文件压缩**（gz）**或者解压</p></li> <li><p><code>-c</code>： c代表的是<code>create</code>，即创建新的包**（tar）**文件,与x互斥</p></li> <li><p><code>-x</code>： x代表的是<code>extract</code>，实现从包文件中还原文件，与c互斥</p></li> <li><p><code>-v</code>： v代表的是<code>verbose</code>，显示命令的执行过程</p></li> <li><p><code>-f</code>： f代表的是<code>file</code>, 用于指定打包文件的名称</p></li></ul></li> <li><p>常用组合</p> <ul><li><p><code>-zcvf</code></p> <ul><li><code>tar -zcvf test.tar.gz diane</code>——对diane文件目录进行压缩，打包，命名为 test.tar.gz</li></ul></li> <li><p><code>-cvf</code></p> <ul><li><code>tar -cvf test.tar diane</code>——对diane文件目录进行打包，命名为 test.tar</li></ul></li> <li><p><strong><code>-zxvf</code></strong></p> <ul><li><code>tar -zxvf test.tar.gz</code>——将test.tar.gz进行解压缩，解包操作，并放在当前目录下</li> <li><code>tar -zxvf test.tar.gz -C /user/local</code>——将文件解压缩，解包后，放在 /user/local 目录中</li></ul></li> <li><p><code>-xvf</code></p> <ul><li><code>tar -xvf test.tar</code>——将test.tar进行解包操作，并放在当前目录下</li></ul></li></ul></li></ul></li></ul> <h4 id="文本编辑命令"><a href="#文本编辑命令" class="header-anchor">#</a> <a href="/pages/373d5a/d:\生活\学习\西电杭研院\代码库\linux\vim.html">文本编辑命令</a></h4> <ul><li><p><code>vi/vim</code></p> <ul><li><p>vim 是一个文本编辑工具，在编辑文件时，可以对文本内容进行着色，比vi功能要好</p></li> <li><p>需要自己安装vim—— <code>yum install vim</code></p></li> <li><p>使用vim命令编辑文件时，如果指定的文件存在则直接打开文件，如果不存在，则新建文件</p></li> <li><p><strong>vim在编辑文本时，分为3种模式，可以相互切换</strong></p> <ul><li><blockquote><p>命令模式，插入模式，底行模式</p></blockquote></li></ul></li> <li><p><strong>vim打开文件的方式</strong></p> <ul><li><code>vim 文件路径</code>——打开指定的文件</li> <li><code>vim +数字 文件路径</code>——打开指定的文件，<strong>并且将光标移动到指定行</strong></li> <li><code>vim +/关键词 文件路径</code>——打开指定的文件，<strong>并且高亮显示关键词</strong></li> <li><code>vim 文件1 文件2 文件3</code>——<strong>同时打开多个文件</strong></li></ul></li> <li><p>命令模式（<strong>删除行，复制行，移动光标，粘贴等等</strong>）</p> <ul><li><p>命令模式下可以<strong>查看文件内容、移动光标</strong>（上下左右箭头，gg（快速移动到开头），G（快速移动到末尾））</p></li> <li><p>通过vim命令打开文件后，<strong>默认进入命令模式</strong></p></li> <li><p>另外两种模式需要首先进入命令模式，才能进入彼此</p> <ul><li><p>底行模式——》命令模式——》插入模式</p></li> <li><p>插入模式——》命令模式——》底行模式</p></li></ul></li></ul></li> <li><p>插入模式（<strong>编辑</strong>）</p> <ul><li>插入模式下，可以对文件内容进行编辑</li> <li>在命令模式下按<font color="#FF0000">[i,a,o]</font>任意一个键，可以进入插入模式。进入插入模式后，下方会出现<font color="#FF0000">[insert]</font>字样</li> <li>在插入模式下按下<kbd>ESC</kbd>,回到命令模式</li></ul></li> <li><p>底行模式（<strong>搜索，替换，保存，退出，撤销，高亮等等</strong>）</p> <ul><li>底行模式下可以通过命令对文件内容进行<strong>查找、显示行号、退出</strong>等操作</li> <li>在命令模式下按下<font color="#FF000">[:,/]</font>任意一个，可以进入底行模式</li> <li>通过  <kbd>/</kbd>方式进入底行模式后，可以对文件内容进行查找   <code>/ name</code>(name为你要查询的词)</li> <li>通过  <kbd>:</kbd>方式进入底行模式后，可以输入 <strong>wq</strong>（保存并退出），<strong>q!</strong>(不保存退出)，<strong>set nu</strong>(显示行号)</li></ul></li></ul> <p>​</p></li></ul> <h4 id="进程命令"><a href="#进程命令" class="header-anchor">#</a> 进程命令</h4> <ul><li><p><code>ps</code>——进程查看命令</p> <ul><li><code>ps -ef</code>——查看当前运行的所有进程的详细信息</li> <li><code>ps -ef|grep tomcat</code>——查看tomcat的进程信息
<ul><li><strong><code>|</code>在linux中称为管道符，可以将前一个命令的结果输出给后一个命令作为输入</strong></li></ul></li> <li><code>ps -ef|grep xxx</code>——查看xxx的进程信息</li></ul></li> <li><p><code>kill -9 id</code></p> <ul><li><code>-9</code>表示强制删除</li> <li><code>-15</code>表示正常关闭</li> <li><code>id</code>为进程名称</li></ul></li> <li><p><code>nohup Command[Arg ...][&amp;]</code>——用于不挂断地运行指定命令，退出终端不会影响程序的运行</p> <ul><li>说明
<ul><li><code>Command</code>要执行的命令</li> <li><code>Arg</code>一些参数，可以指定输出文件</li> <li><code>&amp;</code>让命令在后台运行</li></ul></li> <li>实例
<ul><li><code>nohub java -jar xxx.jar &amp;&gt;hello.log &amp;</code></li> <li><code>&amp;&gt;hello.log</code>将日志输出到hello.log</li> <li><code>&amp;</code> 后台运行</li></ul></li></ul></li></ul> <h4 id="防火墙命令"><a href="#防火墙命令" class="header-anchor">#</a> 防火墙命令</h4> <ul><li><code>firewall-cmd --state</code>——查看防火墙状态</li> <li><code>systemctl stop firewalld</code>——暂时关闭防火墙（重启后开启防火墙）</li> <li><code>systemctl disable firewalld</code>——永久关闭防火墙</li> <li><code>systemctl start firewalld</code>——开启防火墙
<ul><li><code>systemctl start mysqld.service</code>——开启mysql服务</li></ul></li> <li><code>firewall-cmd --zone=public --add-port=8080/tcp --permanent</code>——开放8080端口
<ul><li><code>8080</code>——指定要开放的端口</li> <li><code>/tcp</code>——指定链接协议</li></ul></li> <li><code>firewall-cmd --zone=public --remove-port=8080/tcp --permanent</code>——关闭8080端口</li> <li><code>firewall-cmd --reload</code>——立即生效
<ul><li><strong>开放或者关闭端口后，需要执行这个，才能立即生效</strong></li></ul></li> <li><code>firewall-cmd --zone=public --list-ports</code>——查看开放的端口</li></ul> <h4 id="操作软件命令"><a href="#操作软件命令" class="header-anchor">#</a> 操作软件命令</h4> <ul><li><p><code>yum list xxx</code>——查找有没有当前软件可安装</p> <ul><li><code>yum list lrzsz</code>——查找软件lrzsz</li></ul></li> <li><p><code>yum install vim</code>——安装vim软件</p></li> <li><p><code>rpm -qa</code>——查询当前系统安装的所有软件</p> <ul><li><code>rpm -qa|mysql</code>——查询当前系统安装的名称带mysql的软件</li></ul></li> <li><p><code>rpm -e --nodeps xxx</code>——删除软件xxx</p></li> <li><p><code>source /etc/profile</code>——重新加载配置文件，立即生效</p></li></ul> <h4 id="查找命令"><a href="#查找命令" class="header-anchor">#</a> 查找命令</h4> <ul><li><p><code>find dirName -option fileName</code> ——在指定目录下查找文件</p> <ul><li><p><code>-name</code>——按名称</p> <ul><li><code>find .-name *.java</code>——在当前目录及其子目录下，查找.java结尾的所有文件</li> <li><code>find /diana -name *.java</code>——在/diana 目录及其子目录下，查找.java结尾的所有文件</li></ul></li> <li><p><code>-user</code>——按用户名</p> <ul><li><code>find /opt -user root</code>——查找opt目录下 root用户的文件</li></ul></li> <li><p><code>-size</code>——按大小查找</p> <ul><li><code>find / -size +200M</code>——查找大于200M的文件</li> <li><code>-200M</code>——小于200M        <code>200M</code>——等于200M</li> <li><code>k,M,G</code></li></ul></li></ul></li> <li><p><code>locate</code>——快速定位文件路径</p> <p><strong>利用事先建立好的数据库来快速定位文件，无需遍历整个文件系统，查询速度较快</strong></p> <ul><li><code>update</code>——定位前，需要先更新数据库</li> <li><code>locate ls.txt</code>——搜索文件</li></ul></li> <li><p><code>which</code>——可以查看某个指令在哪个目录下</p> <ul><li><code>which ls</code></li></ul></li> <li><p><code>grep [选项] word fileName</code>——从指定文件中查找指定的文本内容</p> <p><strong>一般与管道符结合使用</strong></p> <ul><li><p><code>-n</code>——显示匹配行及行号</p></li> <li><p><code>-i</code>——忽略字母大小写</p></li> <li><p><code>grep Hello HelloWord.java</code>——查找HelloWorld.java文件中出现Hello字符串的位置</p></li> <li><p><code>grep hello *.java</code>——查找当前目录中所有.java结尾的文件中包含hello字符串的位置</p></li> <li><p><code>cat ls.txt |grep hello</code>——查看文件中 带hello的某几行</p></li> <li><p><code>grep hello ls.txt</code>——等价于上面的写法</p></li></ul></li> <li><p><code>netstat -tunlp</code>——查看所有启动的服务</p> <ul><li><code>netstat -tunlp|grep mysql</code>——查看mysql的启动服务</li></ul></li> <li><p><code>ps -ef</code>——查看当前运行的所有进程的详细信息</p> <ul><li><code>ps -ef|grep tomcat</code>——查看tomcat的进程信息</li></ul></li></ul> <h4 id="时间命令"><a href="#时间命令" class="header-anchor">#</a> 时间命令</h4> <ul><li><p>date指令</p> <ul><li><code>date</code>——输出时间</li> <li>输出——<code>2022年 06月 05日 星期日 10:55:53 CST</code></li> <li><code>date +%Y</code>——输出年份</li> <li><code>date +%m</code>——输出月份</li> <li><code>date +%d</code>——输出日期</li> <li><code>date +%F</code>——格式化输出时间（年月日）——等价于<code>date +&quot;%Y-%m-%d&quot;</code> <ul><li>输出——<code>2022-06-05</code></li></ul></li> <li><code>date +&quot;%F %T&quot;</code>——格式化输出时间（年月日，时分秒）（必须加引号，表示不可分隔的整体）
<ul><li>等价于<code>date +&quot;%Y-%m-%d %H:%M:%S&quot;</code></li> <li>输出——<code>2022-06-05 11:02:53</code></li></ul></li> <li><code>date -d &quot;-1 day&quot;</code>——获取之前或者之后的某个时间（备份用）
<ul><li><code>+</code>表示之后，<code>-</code>表示之前</li> <li><code>hour</code>-小时  <code>day</code>-天  <code>year</code>-年 <code>month</code>-月</li></ul></li> <li><code>date -s &quot;2022-06-05 10:10:10&quot;</code> <ul><li>修改系统当前时间</li></ul></li></ul></li> <li><p>cal指令</p> <ul><li><code>cal</code>——直接输出当前月份的日历，相当于 <code>cal -1</code></li> <li><code>cal -3</code>——输出3个月的日历（前一个月，本月，后一个月）</li> <li><code>cal -y 2022</code>——输出一年（2022）的日历</li></ul></li></ul> <h4 id="管道命令"><a href="#管道命令" class="header-anchor">#</a> 管道命令</h4> <p><strong>管道符：|</strong></p> <p>可以用于过滤，特殊，扩展处理，主要是起一个辅助作用</p> <ul><li>过滤 <code>|grep</code> <ul><li><code>ls |grep g</code>——过滤当前目录下，名字带g的</li> <li><code>|</code>,以管道符作为分界线，前面的命令的输出作为后面命令的输入</li> <li><code>grep</code>,主要用于过滤</li></ul></li> <li>特殊案例
<ul><li><code>cat 1.txt | less</code>——等价于<code>less 1.txt</code>（多此一举）</li></ul></li> <li>扩展处理
<ul><li><code>ls | wc -l</code>——统计某个目录下文档的总个数</li></ul></li></ul> <h4 id="帮助命令"><a href="#帮助命令" class="header-anchor">#</a> 帮助命令</h4> <ul><li><p><code>man</code></p> <p><strong>manual，手册，（包含了Linux中全部的命令手册，英文）</strong></p> <ul><li><code>man 命令</code>  ——进入手册</li> <li>按q——退出手册</li></ul></li></ul> <h4 id="其他命令"><a href="#其他命令" class="header-anchor">#</a> 其他命令</h4> <ul><li><p><code>man 命令</code>——<code>man head</code>——查看命令手册</p></li> <li><p><code>ifconfig</code>——查看ip配置</p></li> <li><p><code>ip addr</code>——查看ip地址</p></li> <li><p><code>sudo apt install git</code> ——安装git(sudo 是乌班图系统下的)</p></li> <li><p><code>sudo apt install xxx</code> ——安装xxx——没有东西会给出提示</p></li> <li><p><code>du -sh *</code>——查询占用空间</p></li> <li><p><code>uname -a</code>——查看系统版本</p></li> <li><p><code>which java</code>——查看java安装目录</p></li> <li><p><code>wget +url</code>——下载指定url的压缩包</p></li> <li><p><code>正常指令 &gt; 文件路径</code> ——<code>ll &gt; ll.txt</code>——将<code>ll</code>命令展示的东西，存储到文本中，而不显示在屏幕上</p> <p>​									——覆盖输出，会覆盖掉原先的文件内容</p></li> <li><p><code>正常指令 &gt;&gt; 文件路径</code> ——<code>ll &gt; ll.txt</code>——将<code>ll</code>命令展示的东西，存储到文本中，而不显示在屏幕上</p> <div class="language- extra-class"><pre><code>  							——追加输出，从原文件内容末尾继续添加
</code></pre></div><h2 id="高级指令"><a href="#高级指令" class="header-anchor">#</a> 高级指令</h2></li></ul> <h4 id="init"><a href="#init" class="header-anchor">#</a> init</h4> <p><strong>运行级别</strong></p> <ul><li><code>init0</code>——关机</li> <li><code>init3</code>——命令行页面</li> <li><code>init5</code>——图形页面</li> <li><code>init6</code>——重启</li></ul> <h4 id="hostname"><a href="#hostname" class="header-anchor">#</a> hostname</h4> <p>操作服务器的<strong>主机名(读取</strong>、设置)</p> <ul><li><p><code>/etc/hostname</code>——文件可以指定主机名</p></li> <li><p><code>hostname</code>——表示输出完整的主机名</p> <ul><li>输出——<code>localhost.localdomain</code></li></ul></li> <li><p><code>hostname -f</code>——表示输出当前主机名中的FQDN(全限定域名)</p> <ul><li>输出——<code>localhost</code></li></ul></li></ul> <h4 id="id"><a href="#id" class="header-anchor">#</a> id</h4> <p><strong>查看一个用户的一些基本信息（包含用户id，用户组id，附加组id...）,该指令如果不指定用户则默认当前用户</strong></p> <ul><li><code>id</code>——默认显示当前执行该命令的用户的信息
<ul><li>输出——<code>uid=0(root) gid=0(root) 组=0(root) 环境=unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023</code></li></ul></li> <li><code>id 用户名</code>——默认指定用户的基本信息</li></ul> <h4 id="whoami"><a href="#whoami" class="header-anchor">#</a> whoami</h4> <p>显示当前登陆的用户名，<strong>一般用于shell脚本,用于获取当前操作的用户名</strong></p> <ul><li><code>whoami</code> <ul><li>输出——<code>root</code></li></ul></li></ul> <h4 id="ps-重点"><a href="#ps-重点" class="header-anchor">#</a> ps （重点）</h4> <p>进程查询指令</p> <ul><li><p><code>ps -ef</code></p></li> <li><p><code>ps -ef|grep xxx</code>——查看xxx的进程信息</p> <ul><li><code>-e</code>—— 等价于<code>-A</code>,表示列出全部的进程</li> <li><code>-f</code>——显示全部的列(显示全部字段)</li> <li>执行结果</li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/ps-ef.png" alt="ps-ef"></p> <ul><li><ul><li><p>UID: 该进程执行的用户id。</p></li> <li><p><strong>PID：进程id。</strong></p></li> <li><p><strong>PPID：该进程的父级进程id，如果一个程序的父级进程找不到，改程序的进程称之为僵尸进程。</strong></p></li> <li><p><strong>C：Cpu的占用率，其形式是百分数。</strong></p></li> <li><p>STIME：进程的启动时间。</p></li> <li><p>TTY：终端设备，发起该进程的设备识别符号。如果显示&quot;?&quot;则表示该进程并不是由终端设备发起。</p></li> <li><p>TIME：进程的执行时间</p></li> <li><p>CMD：该进程的名称或者对应的路径。</p></li></ul></li></ul></li></ul> <h4 id="top-重点"><a href="#top-重点" class="header-anchor">#</a> top（重点）</h4> <p>查看服务器的进程占的资源</p> <ul><li><p>进入命令： <code>top</code> (动态显示)</p></li> <li><p>退出命令：<code>q</code></p></li> <li><p>快捷键：</p> <ul><li><code>M</code>——表示将结果按照内存（MEM）降序排列</li> <li><code>P</code>——表示将结果按照CPU使用率降序排列</li> <li><code>1</code>——切换各个cpu的详细信息</li></ul></li> <li><p>执行结果</p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/top.png" alt="top"></p> <ul><li><p>PID: 进程id。</p></li> <li><p>USER：该进程对应的用户。</p></li> <li><p>PR： 优先级。（越大越好）</p></li> <li><p>VIRT： 虚拟内存 （进程申请的内存）</p></li> <li><p>RES： 常驻内存（进程总共使用的内存，包含了依赖使用的内存）</p></li> <li><p>SHR： 共享内存（依赖进程所使用的内存）</p></li> <li><p>计算一个进程实际使用的内存=常驻内存（RES）— 共享内存（SHR）</p></li> <li><p><strong>S：表示进程的状态(S表示睡眠，R表示运行)</strong></p></li> <li><p><strong>%CPU： 表示CPU的占用百分比</strong></p></li> <li><p><strong>%MEM：表示内存的占用百分比</strong></p></li> <li><p>TIME+：进程执行的时间</p></li> <li><p><strong>COMMAND： 进程的名称或者路径</strong></p></li></ul></li></ul> <h4 id="du-sh"><a href="#du-sh" class="header-anchor">#</a> du -sh</h4> <p><strong>查看目录的真实大小</strong></p> <ul><li><p><code>du-sh 目录路径</code></p> <ul><li><p><code>-s</code>—— 只显示汇总的大小</p></li> <li><p><code>-h</code>——以高可读性的形式进行显示</p></li></ul></li> <li><p>示例：<code>du -sh java</code>——392M    java</p></li></ul> <h4 id="find"><a href="#find" class="header-anchor">#</a> find</h4> <p><strong>用于查找文件</strong></p> <ul><li><p><code>find 路径范围 选项 参数值</code></p> <ul><li><p><code>name</code>——按照文档名称进行搜索</p></li> <li><p><code>type</code>——按照文档的类型进行搜索</p> <ul><li><code>-</code>表示文件（在使用find的时候需要使用f来替换）</li> <li><code>d</code>表示文件夹</li></ul></li></ul></li> <li><p><code>find / -name ls.txt</code>——从根目录(包含其子文件夹)开始找，找到名字为<code>ls.txt</code>的文件</p> <ul><li><code>/</code> ——根目录--路径范围</li> <li><code>-name</code>——按照文档名称搜索--选项</li> <li><code>ls.txt</code>——文档名--参数值</li></ul></li> <li><p><code>find /diane -name *.conf</code></p> <ul><li>从<code>/diane</code>目录(包含其子文件夹)开始找，找到所有后缀为<code>.conf</code>的文件</li></ul></li> <li><p><code>find ./ -name *.conf</code></p> <ul><li>从当前目录及其子目录下开始找，找到所有后缀为<code>.conf</code>的文件</li></ul></li> <li><p><code>find /diane -type f</code></p> <ul><li>从<code>/diane</code>目录(包含其子文件夹)开始找，找到所有的<strong>文件</strong></li></ul></li> <li><p><code>find /diane -type f|wc -l</code></p></li> <li><p>从<code>/diane</code>目录(包含其子文件夹)开始找，找到所有的文件,并将其作为管道的输入，统计一下文件的数量</p></li> <li><p><code>find /diane -type d</code></p> <ul><li>从<code>/diane</code>目录(包含其子文件夹)开始找，找到所有的<strong>文件夹</strong></li></ul> <h4 id="service"><a href="#service" class="header-anchor">#</a> service</h4></li></ul> <p><strong>用于控制一些软件的服务 启动/停止/重启</strong></p> <ul><li><code>service 服务名 start/stop/restart</code></li> <li><code>service NetworkManager stop</code> ——禁用网络管理</li> <li><code>service network restart</code>——重启网络服务</li></ul> <h4 id="kill"><a href="#kill" class="header-anchor">#</a> kill</h4> <p><strong>使用kill杀死进程</strong></p> <ul><li><code>kill 进程PID</code></li> <li><code>killall 进程名称</code></li> <li><code>ps -ef|grep xxx</code>   ——通过ps命令查看进行PID</li></ul> <h4 id="ifconfig"><a href="#ifconfig" class="header-anchor">#</a> ifconfig</h4> <p><strong>获取网卡信息</strong></p> <ul><li><p><code>ifconfig</code></p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/ifconfig.png" alt=""></p></li></ul> <h4 id="reboot"><a href="#reboot" class="header-anchor">#</a> reboot</h4> <p><strong>重新启动计算机</strong></p> <ul><li><code>reboot</code>——重新启动计算机</li> <li><code>reboot -w</code>——模拟重新启动计算机，但是不重启(只写关机与开机的日志信息)</li></ul> <h4 id="shutdown"><a href="#shutdown" class="header-anchor">#</a> shutdown</h4> <p><strong>关机</strong></p> <ul><li><code>shutdown -h 1</code>==<code>shutdown</code> <ul><li>1分钟后关机</li></ul></li> <li><code>shutdown -h now &quot;关机提示&quot;</code> <ul><li>立即关机，并给出关机提示</li></ul></li> <li><code>shutdown -h 15:25 “关机提示”</code> <ul><li>设置关机时间，并给出关机提示</li></ul></li> <li><code>shutdown -c</code> <ul><li>取消定时关机命令</li></ul></li> <li><code>shutdown -r now</code> <ul><li>立即重启计算机</li></ul></li></ul> <p>其他关机命令</p> <ul><li><p><code>init 0</code></p></li> <li><p><code>halt</code></p></li> <li><p><code>poweroff</code></p></li> <li><p><code>sync</code>——将内存的数据同步到磁盘</p> <ul><li>以免数据丢失，可以在关机前执行该指令</li> <li>现在的关机指令，基本都在执行关机前，底层调用了这个命令</li></ul></li></ul> <h4 id="uptime"><a href="#uptime" class="header-anchor">#</a> uptime</h4> <p><strong>输出计算机的持续在线时间（计算机从开机到现在运行的时间）</strong></p> <ul><li><code>uptime</code> <ul><li>输出——<code>09:40:31 up 5 min, 3 users, load average: 0.04, 0.08, 0.05</code></li></ul></li></ul> <h4 id="uname"><a href="#uname" class="header-anchor">#</a> uname</h4> <p><strong>获取操作系统的信息</strong></p> <ul><li><code>uname</code>——获取操作系统的类型
<ul><li><code>Linux</code></li></ul></li> <li><code>uname -a</code>——获取全部的系统信息**(类型，全部主机名，内核版本，发布时间，开源计划)**
<ul><li><code>Linux localhost.localdomain 3.10.0-1160.el7.x86_64 #1 SMP Mon Oct 19 16:18:59 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux</code></li></ul></li></ul> <h4 id="netstat"><a href="#netstat" class="header-anchor">#</a> netstat</h4> <p><strong>查看网络的连接状态</strong></p> <ul><li><p><code>netstat -tnlp</code></p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/netstat.png" alt="netstat"></p> <ul><li><code>t</code>——表示只列出<code>tcp</code>协议的连接</li> <li><code>n</code>——表示将地址从字母组合转换成ip地址，将协议转换成端口号来显示</li> <li><code>l</code>——表示过滤出<code>“state(状态)”</code>列中其值为<code>LISTEN(监听)</code>的连接</li> <li><code>p</code>——表示显示发起连接的进程PID和进程名称</li></ul></li></ul> <h2 id="指令应用"><a href="#指令应用" class="header-anchor">#</a> 指令应用</h2> <ul><li><p>删除<code>/diane</code>下所有A开头的文件</p> <ul><li><code>rm -f /diane/A*</code></li></ul></li> <li><p>系统重要文件需要备份，如何把<code>/diane/java</code>备份到<code>/diana</code>目录下</p> <ul><li><code>cp -r /diane/java /diana</code></li></ul></li> <li><p>如何查看系统最后创建的3个账户</p> <ul><li><code>tail -3 /etc/passwd</code></li></ul></li> <li><p>什么命令可以统计当前系统中一共有多少账户</p> <ul><li><code>wc -l /etc/passwd</code></li></ul></li> <li><p>如何创建<code>/diane/ll.txt</code>文件</p> <ul><li><code>touch /diane/ll.txt</code></li></ul></li> <li><p>如何通过vim编辑打开<code>/diane/ll.txt</code></p> <ul><li><code>vim /diane/ll.txt</code></li></ul></li> <li><p>如何查看<code>/etc/passwd</code>的头三行和尾三行</p> <ul><li><code>head -3 /etc/passwd</code></li> <li><code>tail -3 /etc/passwd</code></li></ul></li> <li><p>如何在<code>diane</code>目录下**一次性(-p)**创建目录 <code>text 1 2 3 4</code></p> <ul><li><code>mkdir -p test 1 2 3 4</code>（在diane目录下）</li></ul></li> <li><p>如何最快的返回当前账户的家目录</p> <ul><li><code>cd ~</code></li> <li><code>cd</code></li></ul></li> <li><p>如果查看<code>/etc</code>所占的磁盘空间</p> <ul><li><code>du -sh /etc</code></li></ul></li> <li><p>如何删除<code>/diana</code>下所有文件</p> <ul><li><code>rm -rf /diana/*</code></li></ul></li></ul> <h2 id="linux自有服务"><a href="#linux自有服务" class="header-anchor">#</a> Linux自有服务</h2> <h4 id="组管理和权限管理"><a href="#组管理和权限管理" class="header-anchor">#</a> 组管理和权限管理</h4> <ul><li>其它组——除文件的所有者和所在组的用户外，系统的其他用户都是文件的其他组</li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E7%BB%84.png" alt="组"></p> <ul><li><p>文件所有者，及所有组</p> <ul><li>用户lisi信息</li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/lisi1.png" alt=""></p> <ul><li>lisi创建文件的信息
<ul><li>可以看出，第一个是文件所有者  lisi；第二个是文件所在组diana，默认用户所在组</li></ul></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/lisi.png" alt=""></p></li> <li><p><code>chown 用户名 文件名</code>—— 修改文件的所有者</p> <ul><li><p><code>-R</code>——如果是目录，则使其下所有子文件或者目录递归生效</p></li> <li><p><code>chown -R diana file</code>——将file文件夹及其下所有文件的所有者改为diana</p></li> <li><p><code>chown diana 1.txt</code>——将1.txt的文件所有者改成diana</p></li> <li><p>修改前          <img src="/assets/%E5%90%8E%E7%AB%AF/Linux/root%E7%BB%84.png" alt=""></p></li> <li><p>修改后          <img src="/assets/%E5%90%8E%E7%AB%AF/Linux/diana%E7%BB%84.png" alt=""></p></li></ul></li> <li><p><code>chgrp 组名 文件名</code>——修改文件所在组</p> <ul><li><p><code>-R</code>——如果是目录，则使其下所有子文件或者目录递归生效</p></li> <li><p>继续前文修改</p></li> <li><p><code>chgrp liangbing 1.txt</code>——将1.txt文件组修改至liangbing</p></li> <li><p>再次修改后      <img src="/assets/%E5%90%8E%E7%AB%AF/Linux/laingbing%E7%BB%84.png" alt=""></p></li></ul> <h4 id="用户管理"><a href="#用户管理" class="header-anchor">#</a> 用户管理</h4></li> <li><p>每个用户有<strong>唯一</strong>的用户名</p></li> <li><p><strong>下面所有的用户操作的命令，除了修改密码，其他均只有root用户有权限操作</strong></p></li> <li><p>重要三个文件</p> <ul><li><p><code>/etc/passwd</code>——存储用户的关键信息</p></li> <li><p><code>/etc/group</code>——存储用户组的关键信息</p></li> <li><p><code>/etc/shadow</code>——存储用户的密码信息</p></li></ul></li> <li><p><code>useradd 选项 用户名</code>——添加用户</p> <ul><li><p>常用选项（选项可以为空）</p> <ul><li><code>-g</code>——表示指定用户的<strong>用户主组</strong>，选项的值可以是用户组的id，也可以是组名</li> <li><code>-G</code>——表示指定用户的<strong>用户附加组</strong>，选项的值可以是用户组的id，也可以是组名</li> <li><code>-u</code>——uid 用户的id(用户标识符)，系统默认会从500以后按顺序分配uid，如果不想使用系统分配的，可以通过该选项自定义</li></ul></li> <li><p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E7%94%A8%E6%88%B7.png" alt=""></p></li> <li><p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/group.png" alt=""></p></li> <li><p>添加用户(无选项)——会自动生成 用户主组，用户附加组，uid</p> <ul><li><code>useradd diane</code>——添加用户 diane
<ul><li>uid——1000</li> <li>用户主组——1000</li> <li>用户附加组——1000</li></ul></li> <li><code>useradd diana</code>——添加用户 diana
<ul><li>uid——1001</li> <li>用户主组——1001</li> <li>用户附加组——1001</li></ul></li></ul></li> <li><p>添加用户(指定选项)</p> <ul><li><p><code>useradd -g 1000 -G 1001 -u 666 liangbing</code>——添加指定用户liangbing</p> <ul><li>uid——666——<code>passwd</code></li> <li>用户主组——1000——<code>passwd</code></li> <li>用户附加组——1001——<code>group</code></li> <li>用户名—— <code>liangbing</code></li></ul></li></ul></li> <li><p>验证创建用户是否成功</p> <ul><li>验证<code>/etc/passwd</code>的最后一行，查看是否有新创建的用户信息</li> <li>验证是否存在home目录(在centos下创建好用户之后随之产生一个同名的家目录)</li></ul></li> <li><p><code>/etc/passwd</code>补充</p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/passwd.png" alt=""></p> <ul><li><strong>用户名：密码位：用户ID：用户组ID：注释：家目录：解释器shell</strong></li> <li>用户名： 创建新用户名称，后期登陆需要输入</li> <li>密码：一般都是x，表示密码的占位，并不是真正的密码</li> <li>用户ID：用户的标识符(uid)</li> <li>用户组ID：该用户所属的主组ID</li> <li>注释：解释该用户是做什么的</li> <li>家目录：用户登陆进入系统后默认的位置</li> <li>解释器shell：等待用户进入系统之后，用户输入指令之后，该解释器会收集用户输入的指令，传递给内核处理</li></ul></li></ul></li> <li><p><code>usermod 选项 用户名</code>——修改用户</p> <ul><li>常用选项
<ul><li><code>-g</code>,<code>-G</code>,<code>-u</code>——同上</li> <li><code>-l</code>——修改用户名(小写的L)</li></ul></li> <li><code>usermod -l lisi zhangsan</code>——将zhangsan用户名修改为lisi</li> <li><code>usermod -g wudang zwj</code>——将zwj的组修改至wudang</li></ul></li> <li><p><code>passwd 用户名</code>——设置密码</p> <ul><li><p>Linux不允许没有密码的用户登陆到系统，因此没有密码的用户处于锁定状态，不允许登陆</p></li> <li><p><code>su 用户名</code>——切换用户名</p> <ul><li>从root往普通用户切换不需要密码，但是反之需要root密码</li> <li>切换用户前后的工作路径不变</li> <li>普通用户没有办法访问root用户家目录，但是反之可以</li></ul></li></ul></li> <li><p><code>userdel 选项 用户名</code></p> <ul><li>选项 <code>-r</code>——表示删除用户的同时，删除其家目录，<strong>谨慎使用</strong></li> <li>不带选项的话，表示删除用户的同时，保留其家目录，<strong>一般建议保留</strong></li> <li>可以直接删除没有登陆的用户</li> <li>如果用户在登陆，需要先杀死其进程(kill)，然后在删除用户</li></ul></li></ul> <h4 id="用户组管理"><a href="#用户组管理" class="header-anchor">#</a> 用户组管理</h4> <ul><li><p><code>groupadd 选项 用户名组</code></p> <ul><li>常用选项
<ul><li><code>-g</code>——类似于用户添加里面的<code>-u</code>，表示自己设置一个自定义的用户组ID数字，如果自己不指定，系统会自动生成</li></ul></li> <li><code>groupadd liang</code>——创建用户组 liang</li></ul></li> <li><p><code>groupmod 选项 用户组名</code></p> <ul><li>常用选项
<ul><li><code>-g</code></li> <li><code>-n</code>——类似于用户修改里面的<code>-l</code>,表示设置新的用户组的名称</li></ul></li> <li><code>groupmod -g 500 -n bing liang</code>——将用户组liang 修改名称为bing，修改组号为500</li></ul></li> <li><p><code>groupdel 用户组名</code></p> <ul><li><code>groupdel bing</code>——删除用户组 bing
<ul><li>组内没有人，可以直接删除</li></ul></li> <li><code>group lisi</code>——删除用户组lisi
<ul><li>lisi的组号是用户zhangsan的<strong>主组</strong>，不允许直接删除用户组</li> <li>需要先将组内用户移走或者删除，才可以删除用户组</li></ul></li></ul></li></ul> <h4 id="权限"><a href="#权限" class="header-anchor">#</a> 权限</h4> <ul><li><p><code>- rw- r-- r--.</code></p></li> <li><p><code>d rwx r-x r-x.</code></p></li> <li><p><code>l rwx rwx rwx.</code></p></li> <li><p><code>b rw- rw- ---.</code></p></li> <li><p><code>c rw- rw- ---.</code></p></li> <li><p>0--9位说明</p> <ul><li><p>第0位表示文件类型（<code>d,-l,c,b</code>）</p> <ul><li><p><code>l</code>——表示链接，相当于windows的快捷方式</p></li> <li><p><code>d</code>——表示目录，相当于windows的文件夹</p></li> <li><p><code>c</code>——表示字符设备文件，例如，鼠标，键盘，</p></li> <li><p><code>b</code>——表示块设备，比如 硬盘</p></li> <li><p><code>-</code>——普通文件</p></li></ul></li> <li><p>1-3位——确定文件所有者拥有该文件的权限——User</p></li> <li><p>4-6位——确定文件所在组（同用户组）拥有该文件的权限——Group</p></li> <li><p>7-9位——确定其他用户拥有该文件的权限——Other</p></li></ul></li> <li><p><code>r,w,x,-</code>——文件——<code>r=4,w=2,x=1——rwx=4+2+1=7</code></p> <ul><li><p><code>r</code>——代表可读，可以读取，查看</p></li> <li><p><code>w</code>——代表可写，可以修改，但是不代表可以删除该文件；</p></li> <li><p>​    ——删除一个文件的前提条件是对<strong>该文件所在的目录有写权限</strong>，才能删除该文件</p></li> <li><p><code>x</code>——代表可执行，<strong>文件可以被执行</strong></p></li></ul></li> <li><p><code>r,w,x,-</code>——目录</p> <ul><li><code>r</code>——代表可读，可以<strong>ls查看目录内容</strong> <ul><li>当目录没有r权限时，其他用户不能通过ls查看目录内文件</li> <li><strong>但是若其他用户对目录内文件有写权限，虽然无法通过ls列出该目录下文件，仍然可以直接对写该文件进行修改</strong></li></ul></li> <li><code>w</code>——代表可写，可以修改，<strong>对目录内部文件创建+删除，重命名目录</strong>；</li> <li><code>x</code>——代表可执行，可以<strong>进入该目录——cd目录</strong></li></ul></li> <li><p><code>ll</code>解读</p> <ul><li><code>drwxr-xr-x. 3 root root 16 7月 19 21:04 2</code> <ul><li>3 ——文件：硬连接数  目录：一层子目录内的文件数</li> <li>第一个root ——表示 文件所有者</li> <li>第二个root——表示文件所在组</li> <li>16——文件大小（字节）</li> <li>时间表示文件的修改时间</li> <li>2 ——表示的文件的名称</li></ul></li></ul></li> <li><p><code>chmod</code>——修改文件或目录的权限（<strong>绿色表示可执行文件</strong>）</p> <ul><li><p>第一种方式：<code>+,-,=</code> 变更权限</p> <p><strong>u:所有者，g:所有组，o:其他人 ，a:所有人(u,g,o的总和)</strong></p> <ul><li><code>chmod u=rwx,g=rw,o=x abc</code>——给abc文件直接赋予权限</li> <li><code>chmod o+w abc</code>  ——给其他人 增加写权限</li> <li><code>chmod a-x abc</code>——给所有人  减少执行权限</li> <li><code>chmod a-x-w abc</code>——给所有人  减少执行权限,减少写权限</li></ul></li> <li><p>==第二种：通过数字变更权限==</p> <p><strong>r=4,w=2,x=1——rwx=4+2+1=7</strong></p> <p><strong>wx=3，rx=5，rw=6，rwx=7</strong></p> <ul><li><code>chmod u=rwx,g=rw,o=x abc</code>——给abc文件直接赋予权限</li> <li><code>chmod 761 abc</code>——与上等价</li></ul></li></ul></li></ul> <h4 id="权限实践"><a href="#权限实践" class="header-anchor">#</a> 权限实践</h4> <ul><li><p>实践1——警察，土匪</p> <ul><li><p>警察组 polic ， 土匪组 bandit</p></li> <li><p>jack，jerry 警察</p></li> <li><p>xh，xq 土匪</p></li> <li><p>创建组</p> <ul><li>root:<code>groupadd polic</code>,<code>groupadd bandit</code></li></ul></li> <li><p>创建用户</p> <ul><li>root:<code>useradd -g polic jack</code> <code>useradd -g polic jerry</code> <ul><li><code>useradd -g bandit xh</code> <code>useradd -g bandit xq</code></li></ul></li></ul></li> <li><p>jack创建一个文件，自己可以读写，本组人可以读，其他组没有权限</p> <ul><li>jack：<code>touch jack.txt</code>——在jack家目录下
<ul><li><code>chmod 640 jack.txt</code></li></ul></li></ul></li> <li><p>jack修改文件，让其他组可以读，本组人可以读写</p> <ul><li>jack：<code>chmod 664 jack.txt</code></li></ul></li> <li><p>xh投靠警察，看看是否可以读写</p> <ul><li><p>root: <code>usermod -g polic xh</code></p></li> <li><p><strong>xh 无法进入jack家目录，因此无法对文件进行修改</strong></p> <ul><li><strong>如果要对目录内的文件进行操作，需要有该目录的相应权限</strong></li></ul></li> <li><p>root: <code>chmod 777 /home/jack</code>——开放jack家目录的所有权限</p></li> <li><p>xh:<code>cd /home/jack</code>,<code>vim jack.txt</code>——可以成功读写</p></li> <li><p>xq: <code>cd /home/jack</code>,<code>vim jack.txt</code>——只读文件，不可写入</p> <ul><li><code>wq!</code>——强制保存，导致jack.txt的所有者修改为xq</li></ul></li></ul></li></ul></li> <li><p>实践2——西游记</p> <ul><li><p>建立两个组（神仙-sx，妖怪-yg）</p> <ul><li>root: <code>groupadd sx</code> <code>groupadd yg</code></li></ul></li> <li><p>建立4个用户（wk，bj，--yg）（ts，ss，--sx）</p> <ul><li>root: <code>useradd -g sx ts</code> <code>useradd -g sx ss</code></li> <li>root: <code>useradd -g yg wk</code> <code>useradd -g yg bj</code></li></ul></li> <li><p>用wk建立一个文件（monkey.java 该文件写入 i am monkey）</p> <p><strong>这里不考虑目录影响，该目录对所有人开放所有权限</strong></p> <ul><li>wk:<code>touch mokey.java</code></li> <li>wk:<code>echo &quot;i am mokey&quot; &gt;&gt; mokey.java</code></li></ul></li> <li><p>给bj一个 r，w的权限,ts，ss对该文件没有权限</p> <ul><li>wk:<code>chmod 760 mokey.java</code></li></ul></li> <li><p>八戒修改monkey.java ，加入一句话（i am pig）</p> <ul><li>bj:<code>echo &quot;i am pig&quot; &gt;&gt; mokey.java</code></li></ul></li> <li><p>把ss放入妖怪组</p> <ul><li>root: <code>usermod -g yg ss</code></li></ul></li> <li><p>让ss修改该文件 monkey.java  加入一句话 （i am person）</p> <ul><li>ss:<code>echo &quot;i am pig&quot; &gt;&gt; mokey.java</code></li></ul></li></ul></li></ul> <h2 id="任务调度"><a href="#任务调度" class="header-anchor">#</a> 任务调度</h2> <h4 id="循环任务调度"><a href="#循环任务调度" class="header-anchor">#</a> 循环任务调度</h4> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/crond%E8%B0%83%E5%BA%A6%E7%A4%BA%E6%84%8F%E5%9B%BE.jpg" alt=""></p> <p><strong>设置任务调度文件 ：<code>/etc/crontab</code></strong></p> <ul><li><ol><li>设置个人任务调度——执行<code>crontab -e</code>命令</li></ol></li> <li><ol start="2"><li>输入任务到调度文件（有空格）</li></ol> <ul><li><code>*/1 * * * * ls -l /etc/ &gt; /tmp/to.txt</code></li> <li>每小时的每分钟执行一次 <code>ls -l /etc/ &gt; /tmp/to.txt</code></li> <li>占位符：<img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E4%BB%BB%E5%8A%A1%E8%B0%83%E5%BA%A6.png" alt="任务调度"></li> <li>特殊符号：![](/assets/后端/Linux/任务调度 特特殊符号.jpg)</li> <li>例子 ![](/assets/后端/Linux/任务调度 例子.jpg)</li></ul></li> <li><p>定时调度shell脚本，在shell脚本中放入多个调度任务</p> <ul><li><p>一分钟一次，将当前日期和日历追加到<code>/diane/time.txt</code>中</p> <ol><li><p>写脚本</p> <ul><li><code>vim my.sh</code></li> <li>输入：<code>date &gt;&gt; /diane/time.txt</code></li> <li>输入：<code>cal &gt;&gt; /diane/time.txt</code></li></ul></li> <li><p>给脚本增加执行权限</p> <ul><li><code>chmod u+x my.sh</code></li></ul></li> <li><p>定时调度脚本</p> <ul><li><code>crontab -e</code></li> <li>输入：<code>*/1 * * * * my.sh</code></li></ul></li></ol></li></ul></li> <li><p><code>crontab -r</code>——终止任务调度——删除了写入的任务调度</p></li> <li><p><code>crontab -l</code>——列出当前有哪些任务调度</p></li> <li><p><code>service crond restart</code>——重启任务调度</p></li></ul> <h4 id="一次性任务调度"><a href="#一次性任务调度" class="header-anchor">#</a> 一次性任务调度</h4> <blockquote><ol><li>at 命令是一次性定时计划任务，at 的守护进程 atd 会以后台模式运行，检测作业队列来运行</li> <li>默认情况下，atd 守护进程每<strong>60s</strong>检查一次作业队列，有作业时，会检查作业运行时间，如果时间与当前时间匹配，则运行此作业。</li> <li>at 命令 是<strong>一次性定时计划任务</strong>，执行完一个任务后 不在执行此任务</li> <li>在使用 at命令的时候，<strong>一定要保证 atd 进程的启动</strong></li></ol></blockquote> <ul><li><p><code>at [选项] [时间]</code></p> <ul><li><p>选项</p> <p>![](/assets/后端/Linux/at 选项.jpg)</p></li> <li><p>时间</p> <p>![](/assets/后端/Linux/at 时间.jpg)</p></li> <li><p><code>Ctrl + D</code>结束at命令的输入</p></li></ul></li> <li><p>at 定时任务 案例</p> <ul><li><p>输入过程</p> <ul><li>输入错误，按住 <code>ctrl+backspace</code>来删除</li> <li>按<code>ctrl +u</code> 来进行撤销</li> <li>输入报错：<code>Can't open /var/run/atd.pid to signal atd. No atd running?</code> <ul><li>解决方法：<code>systemctl restart atd</code></li></ul></li></ul></li> <li><p>2天后的下午5点执行 <code>/bin/ls/home</code></p> <ul><li><code>at 5pm + 2days</code></li> <li>输入：<code>/bin/ls /home</code></li></ul></li> <li><p>atq 命令来查看系统中没有执行的工作任务</p> <ul><li><code>atq</code></li></ul></li> <li><p>明天17点钟，输出时间到指定文件内，如 <code>/root/date100.log</code></p> <ul><li><code>at 17:00 +1days</code></li> <li>输入：<code>date &gt;&gt; /root/date100.log</code></li></ul></li> <li><p>2分钟后，输出时间到指定文件内，如<code>/root/date200.log</code></p> <ul><li><code>at now + 2minutes</code></li></ul></li> <li><p>删除已经设置的任务， atrm编号</p> <ul><li><code>atrm 5</code>——删除5号任务</li> <li><code>atrm 4 5 6</code>——删除 4 5 6 号任务</li></ul></li></ul></li></ul> <h2 id="linux分区"><a href="#linux分区" class="header-anchor">#</a> Linux分区</h2> <h4 id="目录"><a href="#目录" class="header-anchor">#</a> 目录</h4> <p><strong>linux一切皆文件</strong></p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E7%BB%93%E6%9E%84%E5%AF%B9%E6%AF%94.png" alt="结构对比"></p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E7%9B%AE%E5%BD%95%E4%BB%8B%E7%BB%8D.png" alt="目录介绍"></p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/linux%E6%96%87%E4%BB%B6%E7%9B%AE%E5%BD%95.png" alt="linux文件目录"></p> <h4 id="磁盘分区机制"><a href="#磁盘分区机制" class="header-anchor">#</a> 磁盘分区机制</h4> <ul><li>挂载机制——将硬盘的某个分区跟文件链接起来</li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E6%8C%82%E8%BD%BD.jpg" alt=""></p> <ul><li><p>硬盘情况</p> <ul><li>SCSI硬盘，标识为<code>sdx~</code>——x=a,b,c……——~=1,2,3……</li> <li><code>sda1</code>---<code>sda2</code>---<code>sda3</code>---<code>sda4</code></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E7%A1%AC%E7%9B%98%E6%83%85%E5%86%B5.jpg" alt=""></p></li> <li><p>查看所有设备的挂载情况</p></li> <li><p><code>lsblk</code>--<code>lsblk -f</code></p></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/Linux%E5%88%86%E5%8C%BA.png" alt=""></p> <ul><li><p>对新增硬盘分区</p> <ul><li><p>新增一块硬盘，需要重启</p></li> <li><p>分区命令——<code>fdisk /dev/sdb</code>—(sdb是新增硬盘名称)</p> <ul><li><code>m</code>——显示命令</li> <li><code>p</code>——显示磁盘分区</li> <li><code>n</code>——新增分区</li> <li><code>d</code>——删除分区</li> <li><code>w</code>——写入并退出</li> <li>开始分区后，输入n，新增分区，然后选择p，分区类型为主分区，两次回车选择默认，<strong>最后输入w保存分区并退出</strong>，若不保存，则输入q</li></ul></li> <li><p>格式化磁盘（获得了一个UUID）——<code>mkfs -t ext4 /dev/sdb1</code>—(ext4是文件格式，sdb1是新增硬盘分区名称)</p></li> <li><p>挂载——<code>mount /dev/sdb1 /newdisk/</code>-(sdb1是新增硬盘分区名称,newdisk是用来挂载的新建文件夹)</p> <ul><li><strong>重启后 挂载关系会失效</strong></li></ul></li> <li><p>永久挂载</p> <ul><li><code>vim /etc/fstab</code></li> <li><code>/dev/sdb1 /newdisk ext4 defaults 0 0</code></li></ul></li> <li><p>取消挂载——<code>umount /dev/sdb1</code>或者<code>umount /newdisk</code></p></li></ul></li></ul> <h4 id="磁盘实用指令"><a href="#磁盘实用指令" class="header-anchor">#</a> 磁盘实用指令</h4> <ul><li><p><code>df -h</code>——查询系统磁盘使用情况</p></li> <li><p><code>du [选项] /目录</code>——查询指定目录的磁盘占用情况</p> <ul><li><code>-s</code>——指定目录大小汇总（只显示目录的总用量，显示一个）</li> <li><code>-h</code>——带计量单位</li> <li><code>-a</code>——含文件（默认不含文件）</li> <li><code>--max-depth=1</code>——子目录深度（默认是最深处）</li> <li><code>-c</code>——列出明细的同时，增加汇总值（没啥用）</li></ul></li> <li><p>统计/opt文件夹下文件的个数</p> <ul><li><code>ll /opt | grep &quot;^-&quot; | wc -l</code></li> <li><code>&quot;^-&quot;</code>——表示以<code>-</code>开头的，正则表达式，即普通文件</li></ul></li> <li><p>统计/opt文件夹下目录的个数</p> <ul><li><code>ll /opt | grep &quot;^d&quot; | wc -l</code></li> <li><code>&quot;^d&quot;</code>——表示以<code>d</code>开头的，正则表达式，即目录</li></ul></li> <li><p>统计/opt文件夹下文件的个数，包括子文件里的</p> <ul><li><code>ll -R /opt | grep &quot;^-&quot; | wc -l</code></li> <li><code>-R</code>——表示递归，深入子文件内</li></ul></li> <li><p>统计/opt文件夹下目录的个数，包括子文件里的</p> <ul><li><code>ll -R /opt | grep &quot;^d&quot; | wc -l</code></li></ul></li> <li><p>以树形显示目录结构</p> <ul><li><code>tree /opt</code></li> <li><code>tree -L 1 /opt</code>——只显示1层</li></ul></li></ul> <h2 id="网络配置"><a href="#网络配置" class="header-anchor">#</a> 网络配置</h2> <h4 id="网络基础"><a href="#网络基础" class="header-anchor">#</a> 网络基础</h4> <ul><li>三种模式</li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/linux%E7%BD%91%E7%BB%9C%E8%BF%9E%E6%8E%A5.png" alt="linux网络连接"></p> <ul><li><p>查看ip地址</p> <ul><li>Window下
<ul><li><code>ipconfig</code></li> <li>找到<code>VMnet8</code></li> <li><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/vmnet8.png" alt="vmnet8"></li></ul></li> <li>Linux下
<ul><li><code>ifconfig</code></li> <li>找到<code>ens33</code></li> <li><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/ens33.png" alt=""></li></ul></li></ul></li> <li><p>网络链接测试</p> <ul><li><code>ping ip</code>=<code>ping 192.168.159.1</code></li> <li><code>ping 网站</code>=<code>ping www.baidu.com</code></li></ul></li> <li><p>NAT模式（共享主机ip）</p></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/NAT%E6%A8%A1%E5%BC%8F.jpg" alt="NAT模式"></p> <h4 id="网卡设置"><a href="#网卡设置" class="header-anchor">#</a> 网卡设置</h4> <ul><li><p>网络问题(当连不上网时，可以这样操作一下)</p> <ul><li><code>service NetworkManager stop</code> ——禁用网络管理</li> <li><code>service network restart</code>——重启网络服务</li></ul></li> <li><p>和git命令，解决合并冲突时差不多</p></li> <li><p>网卡的配置文件太深，可以通过创建软连接的方式</p> <ul><li><code>ln -s 原路径 现路径</code></li> <li><code>ln -s /etc/sysconfig/network-scripts/ifcfg-ens33 ~/ifcfg-ens33</code>——将网卡配置文件软连接到家目录下</li></ul></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E7%BD%91%E5%8D%A1%E8%AE%BE%E7%BD%AE.png" alt="网卡设置"></p> <h4 id="远程链接"><a href="#远程链接" class="header-anchor">#</a> 远程链接</h4> <p><strong>安装SSH连接工具</strong></p> <ul><li>SSH，建立在应用层基础上的安全协议</li> <li>通过SSH连接工具，可以实现从本地连接到远程的Linux服务器</li> <li>这里安装SSH连接工具，是为了最大限度的模拟企业工作</li> <li><strong>链接操作</strong> <ul><li>点击左上角文件夹，点开，在点击左上角文件夹，选择SSH链接</li> <li>输入名称（任意），<strong>主机输入要链接的ip地址</strong></li> <li>输入用户名和密码</li> <li>再次进入，有个快速连接，里面保存了之前的链接信息，直接点击即可</li></ul></li></ul> <h4 id="主机名和hosts映射"><a href="#主机名和hosts映射" class="header-anchor">#</a> 主机名和hosts映射</h4> <ul><li><p><code>hostname</code></p> <p>操作服务器的<strong>主机名(读取</strong>、设置)</p> <ul><li><p><code>/etc/hostname</code>——文件可以指定主机名</p></li> <li><p><code>hostname</code>——表示输出完整的主机名</p> <ul><li>输出——<code>localhost.localdomain</code></li> <li>修改后——<code>diana</code></li></ul></li> <li><p><code>hostname -f</code>——表示输出当前主机名中的FQDN(全限定域名)</p> <ul><li>输出——<code>localhost</code></li></ul></li></ul></li> <li><p>设置hosts映射</p> <p><strong>通过ping 主机名找到Linux系统</strong></p> <ul><li>Windows
<ul><li><code>C:\Windows\System32\drivers\etc\hosts</code>——在该文件下写入映射关系</li> <li><code>192.168.159.100 diana</code>——(ip 主机名)</li> <li><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/ping-diana.png" alt=""></li></ul></li> <li>Linux
<ul><li><code>etc/hosts</code>——在该文件下写入映射关系</li> <li><code>192.168.137.1 diana-pc</code>——(ip windows 主机名)</li></ul></li></ul></li> <li><p>主机名解析机制分析（Hosts、DNS）</p> <ul><li>Hosts 是一个文本文件，用来记录 IP和 Hostname的映射关系</li> <li>DNS 是域名系统，是互联网上作为域名和IP地址相互映射的一个分布式数据库</li> <li>DNS 实例<img src="/assets/%E5%90%8E%E7%AB%AF/Linux/DNS%E8%A7%A3%E6%9E%90.jpg" alt=""></li></ul></li></ul> <h2 id="linux软件安装"><a href="#linux软件安装" class="header-anchor">#</a> Linux软件安装</h2> <h4 id="软件安装方式"><a href="#软件安装方式" class="header-anchor">#</a> 软件安装方式</h4> <ul><li>二进制发布包安装
<ul><li>软件已经针对具体平台编译打包发布，只要解压，修改配置即可</li></ul></li> <li>rpm安装
<ul><li>软件已经按照redhat的包管理规范进行打包，使用rpm命令进行安装，不能自行解决库依赖问题</li></ul></li> <li>yum安装
<ul><li>一种在线安装软件方式，本质上还是rpm安装，自动下载安装包并安装，安装过程中自动解决库依赖问题</li></ul></li> <li>源码编译安装
<ul><li>软件以源码工程的形式发布，需要自己编译打包</li></ul></li></ul> <h4 id="jdk"><a href="#jdk" class="header-anchor">#</a> jdk</h4> <p><code>JAVA_HOME=/usr/local/jdk1.8.0_361</code></p> <p><code>PATH=$JAVA_HOME/bin:$PATH</code></p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E5%AE%89%E8%A3%85jdk.png" alt="安装jdk"></p> <h4 id="tomcat"><a href="#tomcat" class="header-anchor">#</a> Tomcat</h4> <ul><li>安装</li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E5%AE%89%E8%A3%85tomcat.png" alt="安装tomcat"></p> <ul><li>启动验证</li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E9%AA%8C%E8%AF%81tomcat%E5%90%AF%E5%8A%A8.png" alt="验证tomcat启动"></p> <ul><li>防火墙命令
<ul><li>在window下，访问tomcat需要开放 8080端口</li></ul></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E9%98%B2%E7%81%AB%E5%A2%99%E5%91%BD%E4%BB%A4.png" alt="防火墙命令"></p> <h4 id="mysql"><a href="#mysql" class="header-anchor">#</a> Mysql</h4> <ul><li>安装前检测</li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E5%AE%89%E8%A3%85mysql.png" alt="安装mysql"></p> <ul><li><a href="https://blog.csdn.net/Angelxiqi/article/details/119155252" target="_blank" rel="noopener noreferrer">安装网站介绍<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <ul><li>安装报错
<ul><li>失败的软件包是：mysql-community-libs-compat-5.7.37-1.el7.x86_64
GPG 密钥配置为：file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysql</li></ul></li> <li>解决方案
<ul><li>去这个文件下面 /etc/yum.repos.d/mysql-community.repo 修改对应安装版本的gpgcheck=0即可,默认值为1</li></ul></li></ul></li> <li>安装后启动，并查看</li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E6%9F%A5%E7%9C%8Bmysql%E5%AE%89%E8%A3%85%E7%8A%B6%E6%80%81.png" alt="查看mysql安装状态"></p> <ul><li><p>设置mysql密码</p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E8%AE%BE%E7%BD%AEsql%E5%AF%86%E7%A0%81.png" alt="设置sql密码"></p></li> <li><p>从远程链接mysql服务器</p> <ul><li><p>开放3306端口</p> <ul><li><code>firewall-cmd --zone=public --add-port=3306/tcp --permanent</code></li></ul></li> <li><p>允许远程链接(在mysql下运行)</p> <ul><li><code>use mysql;</code></li> <li><code>update user set host='%' where user='root';</code></li> <li><code>FLUSH PRIVILEGES;</code></li></ul></li></ul></li></ul> <h4 id="lrzsz"><a href="#lrzsz" class="header-anchor">#</a> lrzsz</h4> <ul><li><code>yum list lrzsz</code>——查看可安装软件</li> <li><code>yum install lrzsz.x86_64</code>——安装软件</li> <li>使用
<ul><li><code>rz</code> 弹出对话框，选择文件，上传文件</li></ul></li></ul> <h4 id="redis"><a href="#redis" class="header-anchor">#</a> Redis</h4> <ul><li>安装</li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/redis.png" alt="redis"></p> <ul><li>使用
<ul><li>src 目录下
<ul><li><code>redis-server</code>——启动服务</li> <li><code>redis-cli -h localhost -p 6379 -a 123456</code> —— -h选择连接地方，-p选择连接端口，-a选择密码
<ul><li><code>auth 123456</code>——也可以启动服务之后，显示输入密码</li></ul></li></ul></li> <li>src 上层目录下，有个<code>redis.conf</code>配置文件
<ul><li><code>src/redis-server ./redis.conf</code>——修改配置文件后，启动服务</li> <li>修改配置
<ul><li><code>requirepass 123456</code> ——输入密码登陆</li> <li><code>daemonize yes</code>——后台运行</li> <li><code># bind 127.0.0.1</code>——注释掉这句话，表示允许远程访问</li></ul></li></ul></li></ul></li></ul> <h4 id="nginx"><a href="#nginx" class="header-anchor">#</a> Nginx</h4> <ul><li><p>下载安装</p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/Nginx%E5%AE%89%E8%A3%85.png" alt="Nginx安装"></p></li> <li><p>目录结构</p></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/nginx%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84.png" alt="nginx目录结构"></p> <ul><li><p>Nginx命令(sbin/nginx)</p> <ul><li><code>./nginx -v</code>——查看版本号</li> <li><code>./nginx -t</code>——检测配置文件（/conf/nginx.conf）是否有问题</li> <li><code>./nginx</code>——启动nginx服务（master,worker）默认两个进程，，（默认端口号 80）</li> <li><code>./nginx -s stop</code>——关闭nginx服务</li> <li><code>./nginx -s reload</code>——重新加载配置文件</li></ul></li> <li><p>Nginx配置文件结构</p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/nginx%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.png" alt="nginx配置文件"></p> <ul><li>全局块</li> <li>events块</li> <li>http块</li></ul></li> <li><p>Nginx具体应用</p> <ul><li>部署静态资源
<ul><li>标红的地方是 语法， 黑色的地方是可以修改的地方</li> <li>可以配置多个server，监听多个端口</li></ul></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/nginx%E9%83%A8%E7%BD%B2%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90.png" alt="nginx部署静态资源"></p> <ul><li>反向代理概念
<ul><li>正向代理概念   ———— 翻墙，vpn</li> <li>反向代理——用户无需感知，用户访问反向代理服务器，即可得到web服务器上的内容，但是用户不知道它访问的是反向代理服务器.</li></ul></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86.png" alt="正向代理"></p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86.png" alt="反向代理"></p> <ul><li><p>反向代理配置</p> <ul><li><p>配置</p> <div class="language-xml extra-class"><pre class="language-xml"><code>server {
    listen       81;
    server_name  localhost;
    location / {
    	proxy_pass http://169.254.176.155; #反向代理，将请求转发到指定服务      
    }
}
</code></pre></div></li> <li><p>效果</p> <p>访问<code>http://192.168.159.100:81/</code>,nginx服务器的端口</p> <p>可以访问到<code>http://169.254.176.155/</code>,window 下 tomcat服务器端口</p></li></ul></li> <li><p>负载均衡概念</p></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/nginx%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1.png" alt="nginx负载均衡"></p> <ul><li><p>负载均衡配置</p> <ul><li>理论上来说，里面配置的应该是多台服务器，但是咱们没有多余的服务器，就用不同的端口号来代替</li> <li>weight为权重，权重越多，访问机会越大</li></ul> <div class="language-xml extra-class"><pre class="language-xml"><code>upstream targetserver{  #upstream指令可以定义一组服务器
	server 169.254.176.155:80 weight=100;
	server 169.254.176.155:8080 weight=50;  #只能配置到端口，后面不能跟路径了   
}
server{
	listen  82;
	server_name localhost;
	location / {
		proxy_pass http://targetserver;
	}
}
</code></pre></div><ul><li>负载均衡测量</li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/nginx%E8%B4%9F%E8%BD%BD%E7%AD%96%E7%95%A5.png" alt="nginx负载策略"></p></li></ul></li></ul> <h2 id="linux项目部署"><a href="#linux项目部署" class="header-anchor">#</a> Linux项目部署</h2> <h4 id="手工部署项目-步骤"><a href="#手工部署项目-步骤" class="header-anchor">#</a> 手工部署项目（步骤）</h4> <ul><li><p>将web项目打jar包，并传到llinux中</p></li> <li><p>在linux中运行jar包</p> <ul><li><code>java -jar xxx.jar</code></li></ul></li> <li><p>检测防火墙，确保8080端口对外开放</p> <ul><li><code>firewall-cmd --zone=public --list-ports</code></li></ul></li> <li><p>在浏览器中访问<code>192.168.159.131:8080/host</code></p></li> <li><p>改为后台运行springboot程序，并将日志输出到日志文件</p> <ul><li><code>nohup Command[Arg ...][&amp;]</code>——用于不挂断地运行指定命令，退出终端不会影响程序的运行
<ul><li>说明
<ul><li><code>Command</code>要执行的命令</li> <li><code>Arg</code>一些参数，可以指定输出文件</li> <li><code>&amp;</code>让命令在后台运行</li></ul></li> <li>实例
<ul><li><code>nohup java -jar xxx.jar &amp;&gt;hello.log &amp;</code></li> <li><code>&amp;&gt;hello.log</code>将日志输出到hello.log</li> <li><code>&amp;</code> 后台运行</li></ul></li></ul></li></ul></li> <li><p>停止服务</p> <ul><li><p><code>ps -ef|grep java</code>——查找java进程——39390</p></li> <li><p><code>kill -9 -39390</code>——杀死java对应进程</p></li></ul></li></ul> <h4 id="shell脚本自动部署项目"><a href="#shell脚本自动部署项目" class="header-anchor">#</a> shell脚本自动部署项目</h4> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/shell%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2.png" alt="shell脚本自动部署"></p> <ul><li><p>安装git</p> <ul><li><code>yum list git</code>——查看git可安装版本——git.x86_64</li> <li><code>yum install git.x86_64</code>——安装git
<ul><li><code>git config --global user.name &quot;diana&quot;</code>——设置用户名</li> <li><code>git config --global user.email &quot;diana_liangbing@126.com&quot;</code>——设置邮箱</li></ul></li> <li><code>git clone https://gitee.com/diana-liangbing/hellogit.git</code>——克隆项目</li></ul></li> <li><p>安装maven</p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E8%AE%BE%E7%BD%AEmaven.png" alt="设置maven"></p></li> <li><p>编写shell脚本</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token builtin class-name">echo</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
<span class="token builtin class-name">echo</span> 自动化部署脚本启动
<span class="token builtin class-name">echo</span> <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>

<span class="token builtin class-name">echo</span> 停止原来运行的工程
<span class="token comment">#定义变量 方便查询进程</span>
<span class="token assign-left variable">APP_NAME</span><span class="token operator">=</span>hellogit

<span class="token comment">#查找包含hellogit的进程，并将其停掉</span>
<span class="token assign-left variable">tpid</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> $APP_NAME<span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token function">grep</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token function">kill</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{print $2}'</span><span class="token variable">`</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">${tpid}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">'STOP Process...'</span>
        <span class="token function">kill</span> <span class="token parameter variable">-15</span> <span class="token variable">$tpid</span>
<span class="token keyword">fi</span>
<span class="token function">sleep</span> <span class="token number">2</span>
<span class="token comment">#再次查找进程，如果还存在，强制杀死，否则输出 停止成功</span>
<span class="token assign-left variable">tpid</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> $APP_NAME<span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token function">grep</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-v</span> <span class="token function">kill</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{print $2}'</span><span class="token variable">`</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">${tpid}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">'Kill Process!'</span>
        <span class="token function">kill</span> <span class="token parameter variable">-9</span> <span class="token variable">$tpid</span>
<span class="token keyword">else</span>
        <span class="token builtin class-name">echo</span> <span class="token string">'Stop Success!'</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> 准备从Git仓库拉取最新代码
<span class="token comment">#进入存放项目的目录</span>
<span class="token builtin class-name">cd</span> /diane/java-project/project/hellogit

<span class="token builtin class-name">echo</span> 开始从Git仓库拉取最新代码
<span class="token function">git</span> pull
<span class="token builtin class-name">echo</span> 代码拉取完成

<span class="token builtin class-name">echo</span> 开始打包
<span class="token assign-left variable">output</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>mvn clean package <span class="token parameter variable">-Dmaven.test.skip</span><span class="token operator">=</span>true<span class="token variable">`</span></span>   <span class="token comment">#clean，package，并跳过测试</span>

<span class="token builtin class-name">cd</span> target

<span class="token builtin class-name">echo</span> 启动项目
<span class="token comment">#后台启动项目，并将日志输出到当前目录下的hellolinux.log中</span>
<span class="token function">nohup</span> <span class="token function">java</span> <span class="token parameter variable">-jar</span> hello-linux-0.0.1-SNAPSHOT.jar <span class="token operator">&amp;&gt;</span>hellolinux.log <span class="token operator">&amp;</span>   
<span class="token builtin class-name">echo</span> 项目启动完成

</code></pre></div></li> <li><p>为用户授予执行shell脚本权限</p></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E7%BB%99%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%83.png" alt="给用户授权"></p> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E7%BB%99%E7%94%A8%E6%88%B7%E6%8E%88%E6%9D%832.png" alt="给用户授权2"></p> <ul><li>执行shell脚本
<ul><li><code>./bootStart.sh</code>——直接打开就是执行</li></ul></li> <li>设置静态ip
<ul><li><code>static</code> 没有引号</li></ul></li></ul> <p><img src="/assets/%E5%90%8E%E7%AB%AF/Linux/%E8%AE%BE%E7%BD%AE%E9%9D%99%E6%80%81ip.png" alt="设置静态ip"></p></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=%E7%9F%A5%E8%AF%86" title="标签">#知识</a><a href="/tags/?tag=%E6%8A%80%E6%9C%AF" title="标签">#技术</a><a href="/tags/?tag=Linux" title="标签">#Linux</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023 07 3</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/91f9c0/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Git基础</div></a> <a href="/pages/549714/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">vim编辑器</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/91f9c0/" class="prev">Git基础</a></span> <span class="next"><a href="/pages/549714/">vim编辑器</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/0446de/"><div>
            数据层解决方案
            <!----></div></a> <span class="date">07-03</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/e76fff/"><div>
            第三方技术整合
            <!----></div></a> <span class="date">07-03</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/cd183e/"><div>
            原理篇
            <!----></div></a> <span class="date">07-03</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:1693849288@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/diana-devil" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://y.qq.com/n/ryqq/playlist/3202075040" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2023
    <span>by 凉冰 </span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><!----><!----><canvas id="vuepress-canvas-cursor"></canvas><div class="reco-bgm-panel" data-v-b1d3339e><audio id="bgm" src="/bgm/G_E_M_ 邓紫棋 - FIND YOU.ogg" data-v-b1d3339e></audio> <div class="reco-float-box" style="bottom:200px;z-index:999999;display:none;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><img src="/bgm/GEM.jpg" data-v-b1d3339e></div> <div class="reco-bgm-box" style="left:10px;bottom:10px;z-index:999999;" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="reco-bgm-cover" style="background-image:url(/bgm/GEM.jpg);" data-v-b1d3339e><div class="mini-operation" style="display:none;" data-v-b1d3339e><i class="reco-bgm reco-bgm-pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play" style="display:none;" data-v-b1d3339e></i></div> <div class="falut-message" style="display:none;" data-v-b1d3339e>
          播放失败
        </div></div> <div class="reco-bgm-info" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-music music" data-v-b1d3339e></i>FIND YOU</div> <div class="info-box" data-v-b1d3339e><i class="reco-bgm reco-bgm-artist" data-v-b1d3339e></i>G_E_M_ 邓紫棋</div> <div class="reco-bgm-progress" data-v-b1d3339e><div class="progress-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div> <div class="reco-bgm-operation" data-v-b1d3339e><i class="reco-bgm reco-bgm-last last" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-pause pause" style="display:none;" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-play play" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-next next" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-volume1 volume" data-v-b1d3339e></i> <i class="reco-bgm reco-bgm-mute mute" style="display:none;" data-v-b1d3339e></i> <div class="volume-bar" data-v-b1d3339e><div class="bar" data-v-b1d3339e></div></div></div></div> <div class="reco-bgm-left-box" data-v-b1d3339e data-v-41bcba48 data-v-b1d3339e><i class="reco-bgm reco-bgm-left" data-v-b1d3339e></i></div></div></div></div></div>
    <script src="/assets/js/app.3ee2b30c.js" defer></script><script src="/assets/js/2.fc657b59.js" defer></script><script src="/assets/js/139.5ed042c0.js" defer></script><script src="/assets/js/3.e0ec9727.js" defer></script>
  </body>
</html>
