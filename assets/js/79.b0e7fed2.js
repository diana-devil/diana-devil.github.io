(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{417:function(t,a,e){"use strict";e.r(a);var s=e(2),v=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"了解es"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#了解es"}},[t._v("#")]),t._v(" 了解ES")]),t._v(" "),a("h3",{attrs:{id:"elasticsearch的作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch的作用"}},[t._v("#")]),t._v(" elasticsearch的作用")]),t._v(" "),a("p",[t._v("elasticsearch是一款非常强大的开源搜索引擎，具备非常多强大功能，可以帮助我们从海量数据中快速找到需要的内容")]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("在GitHub搜索代码")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720193623245.png",alt:"image-20210720193623245"}})])]),t._v(" "),a("li",[a("p",[t._v("在电商网站搜索商品")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720193633483.png",alt:"image-20210720193633483"}})])]),t._v(" "),a("li",[a("p",[t._v("在百度搜索答案")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720193641907.png",alt:"image-20210720193641907"}})])]),t._v(" "),a("li",[a("p",[t._v("在打车软件搜索附近的车")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720193648044.png",alt:"image-20210720193648044"}})])])]),t._v(" "),a("h3",{attrs:{id:"elk技术栈"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elk技术栈"}},[t._v("#")]),t._v(" ELK技术栈")]),t._v(" "),a("p",[t._v("elasticsearch结合kibana、Logstash、Beats，也就是elastic stack（ELK）。被广泛应用在日志数据分析、实时监控等领域：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720194008781.png",alt:"image-20210720194008781"}})]),t._v(" "),a("p",[t._v("而elasticsearch是elastic stack的核心，负责存储、搜索、分析数据。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720194230265.png",alt:"image-20210720194230265"}})]),t._v(" "),a("h3",{attrs:{id:"elasticsearch和lucene"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch和lucene"}},[t._v("#")]),t._v(" elasticsearch和lucene")]),t._v(" "),a("p",[t._v("elasticsearch底层是基于"),a("strong",[t._v("lucene")]),t._v("来实现的。")]),t._v(" "),a("p",[a("strong",[t._v("Lucene")]),t._v("是一个Java语言的搜索引擎类库，是Apache公司的顶级项目，由DougCutting于1999年研发。官网地址：https://lucene.apache.org/ 。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720194547780.png",alt:"image-20210720194547780"}})]),t._v(" "),a("p",[a("strong",[t._v("elasticsearch")]),t._v("的发展历史：")]),t._v(" "),a("ul",[a("li",[t._v("2004年Shay Banon基于Lucene开发了Compass")]),t._v(" "),a("li",[t._v("2010年Shay Banon 重写了Compass，取名为Elasticsearch。")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720195001221.png",alt:"image-20210720195001221"}})]),t._v(" "),a("h3",{attrs:{id:"为什么不是其他搜索技术"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么不是其他搜索技术"}},[t._v("#")]),t._v(" 为什么不是其他搜索技术？")]),t._v(" "),a("p",[t._v("目前比较知名的搜索引擎技术排名：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720195142535.png",alt:"image-20210720195142535"}})]),t._v(" "),a("p",[t._v("虽然在早期，Apache Solr是最主要的搜索引擎技术，但随着发展elasticsearch已经渐渐超越了Solr，独占鳌头：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720195306484.png",alt:"image-20210720195306484"}})]),t._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("什么是elasticsearch？")]),t._v(" "),a("ul",[a("li",[t._v("一个开源的分布式搜索引擎，可以用来实现搜索、日志统计、分析、系统监控等功能")])]),t._v(" "),a("p",[t._v("什么是elastic stack（ELK）？")]),t._v(" "),a("ul",[a("li",[t._v("是以elasticsearch为核心的技术栈，包括beats、Logstash、kibana、elasticsearch")])]),t._v(" "),a("p",[t._v("什么是Lucene？")]),t._v(" "),a("ul",[a("li",[t._v("是Apache的开源搜索引擎类库，提供了搜索引擎的核心API")])]),t._v(" "),a("h2",{attrs:{id:"es的一些概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#es的一些概念"}},[t._v("#")]),t._v(" es的一些概念")]),t._v(" "),a("p",[t._v("elasticsearch中有很多独有的概念，与mysql中略有差别，但也有相似之处。")]),t._v(" "),a("h3",{attrs:{id:"文档和字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文档和字段"}},[t._v("#")]),t._v(" 文档和字段")]),t._v(" "),a("p",[t._v("elasticsearch是面向**文档（Document）**存储的，可以是数据库中的一条商品数据，一个订单信息。文档数据会被序列化为json格式后存储在elasticsearch中：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720202707797.png",alt:"image-20210720202707797"}})]),t._v(" "),a("p",[t._v("而Json文档中往往包含很多的"),a("strong",[t._v("字段（Field）")]),t._v("，类似于数据库中的列。")]),t._v(" "),a("h3",{attrs:{id:"索引和映射"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#索引和映射"}},[t._v("#")]),t._v(" 索引和映射")]),t._v(" "),a("p",[a("strong",[t._v("索引（Index）")]),t._v("，就是相同类型的文档的集合。")]),t._v(" "),a("p",[t._v("例如：")]),t._v(" "),a("ul",[a("li",[t._v("所有用户文档，就可以组织在一起，称为用户的索引；")]),t._v(" "),a("li",[t._v("所有商品的文档，可以组织在一起，称为商品的索引；")]),t._v(" "),a("li",[t._v("所有订单的文档，可以组织在一起，称为订单的索引；")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720203022172.png",alt:"image-20210720203022172"}})]),t._v(" "),a("p",[t._v("因此，我们可以把索引当做是数据库中的表。")]),t._v(" "),a("p",[t._v("数据库的表会有约束信息，用来定义表的结构、字段的名称、类型等信息。因此，索引库中就有"),a("strong",[t._v("映射（mapping）")]),t._v("，是索引中文档的字段约束信息，类似表的结构约束。")]),t._v(" "),a("h3",{attrs:{id:"mysql与elasticsearch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql与elasticsearch"}},[t._v("#")]),t._v(" mysql与elasticsearch")]),t._v(" "),a("p",[t._v("我们统一的把mysql与elasticsearch的概念做一下对比：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[a("strong",[t._v("MySQL")])]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[a("strong",[t._v("Elasticsearch")])]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[a("strong",[t._v("说明")])])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Table")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Index")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("索引(index)，就是文档的集合，类似数据库的表(table)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Row")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Document")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("文档（Document），就是一条条的数据，类似数据库中的行（Row），文档都是JSON格式")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Column")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Field")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("字段（Field），就是JSON文档中的字段，类似数据库中的列（Column）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("Schema")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Mapping")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("Mapping（映射）是索引中文档的约束，例如字段类型约束。类似数据库的表结构（Schema）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("SQL")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("DSL")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("DSL是elasticsearch提供的JSON风格的请求语句，用来操作elasticsearch，实现CRUD")])])])]),t._v(" "),a("p",[t._v("是不是说，我们学习了elasticsearch就不再需要mysql了呢？")]),t._v(" "),a("p",[a("strong",[t._v("并不是如此，两者各自有自己的擅长支出：")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("Mysql：擅长事务类型操作，可以确保数据的安全和一致性")])]),t._v(" "),a("li",[a("p",[t._v("Elasticsearch：擅长海量数据的搜索、分析、计算")])])]),t._v(" "),a("p",[t._v("因此在企业中，往往是两者结合使用："),a("strong",[t._v("互补")])]),t._v(" "),a("ul",[a("li",[t._v("对安全性要求较高的写操作，使用mysql实现")]),t._v(" "),a("li",[t._v("对查询性能要求较高的搜索需求，使用elasticsearch实现")]),t._v(" "),a("li",[t._v("两者再基于某种方式，实现数据的同步，保证一致性")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E5%BE%AE%E6%9C%8D%E5%8A%A1/ES/image-20210720203534945.png",alt:"image-20210720203534945"}})])])}),[],!1,null,null,null);a.default=v.exports}}]);