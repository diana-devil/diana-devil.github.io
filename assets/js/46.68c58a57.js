(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{382:function(s,t,a){"use strict";a.r(t);var e=a(2),r=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("Redis是一种键值型的NoSql数据库，这里有两个关键字：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("键值型")])]),s._v(" "),t("li",[t("p",[s._v("NoSql")])])]),s._v(" "),t("p",[s._v("其中"),t("strong",[s._v("键值型")]),s._v("，是指Redis中存储的数据都是以key、value对的形式存储，而value的形式多种多样，可以是字符串、数值、甚至json：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/6U1Rhxo.png",alt:"image-20220502190959608"}})]),s._v(" "),t("p",[s._v("而NoSql则是相对于传统关系型数据库而言，有很大差异的一种数据库。")]),s._v(" "),t("h2",{attrs:{id:"认识nosql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#认识nosql"}},[s._v("#")]),s._v(" 认识NoSQL")]),s._v(" "),t("p",[t("strong",[s._v("NoSql")]),s._v("可以翻译做Not Only Sql（不仅仅是SQL），或者是No Sql（非Sql的）数据库。是相对于传统关系型数据库而言，有很大差异的一种特殊的数据库，因此也称之为"),t("strong",[s._v("非关系型数据库")]),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"结构化与非结构化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结构化与非结构化"}},[s._v("#")]),s._v(" 结构化与非结构化")]),s._v(" "),t("p",[s._v("传统关系型数据库是结构化数据，每一张表都有严格的约束信息：字段名、字段数据类型、字段约束等等信息，插入的数据必须遵守这些约束：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/4tUgFo6.png",alt:""}})]),s._v(" "),t("p",[s._v("而NoSql则对数据库格式没有严格约束，往往形式松散，自由。")]),s._v(" "),t("p",[s._v("可以是键值型：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/GdqOSsj.png",alt:""}})]),s._v(" "),t("p",[s._v("也可以是文档型：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/zBBQfcc.png",alt:""}})]),s._v(" "),t("p",[s._v("甚至可以是图格式：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/zBnKxWf.png",alt:""}})]),s._v(" "),t("h3",{attrs:{id:"关联和非关联"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关联和非关联"}},[s._v("#")]),s._v(" 关联和非关联")]),s._v(" "),t("p",[s._v("传统数据库的表与表之间往往存在关联，例如外键：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/tXYSl5x.png",alt:""}})]),s._v(" "),t("p",[s._v("而非关系型数据库不存在关联关系，要维护关系要么靠代码中的业务逻辑，要么靠数据之间的耦合：")]),s._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"张三"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  orders"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n       id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n       item"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" title"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"荣耀6"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" price"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4999")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n       id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n       item"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t id"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" title"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"小米11"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" price"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3999")]),s._v("\n       "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("此处要维护“张三”的订单与商品“荣耀”和“小米11”的关系，不得不冗余的将这两个商品保存在张三的订单文档中，不够优雅。还是建议用业务来维护关联关系。")]),s._v(" "),t("h3",{attrs:{id:"查询方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询方式"}},[s._v("#")]),s._v(" 查询方式")]),s._v(" "),t("p",[s._v("传统关系型数据库会基于Sql语句做查询，语法有统一标准；")]),s._v(" "),t("p",[s._v("而不同的非关系数据库查询语法差异极大，五花八门各种各样。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/AzaHOTF.png",alt:""}})]),s._v(" "),t("h3",{attrs:{id:"事务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事务"}},[s._v("#")]),s._v(" 事务")]),s._v(" "),t("p",[s._v("传统关系型数据库能满足事务ACID的原则。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/J1MqOJM.png",alt:""}})]),s._v(" "),t("p",[s._v("而非关系型数据库往往不支持事务，或者不能严格保证ACID的特性，只能实现基本的一致性。")]),s._v(" "),t("h3",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),t("p",[s._v("除了上述四点以外，在存储方式、扩展性、查询性能上关系型与非关系型也都有着显著差异，总结如下：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/kZP40dQ.png",alt:""}})]),s._v(" "),t("ul",[t("li",[s._v("存储方式\n"),t("ul",[t("li",[s._v("关系型数据库基于磁盘进行存储，会有大量的磁盘IO，对性能有一定影响")]),s._v(" "),t("li",[s._v("非关系型数据库，他们的操作更多的是依赖于内存来操作，内存的读写速度会非常快，性能自然会好一些")])])])]),s._v(" "),t("ul",[t("li",[s._v("扩展性\n"),t("ul",[t("li",[s._v("关系型数据库集群模式一般是主从，主从数据一致，起到数据备份的作用，称为垂直扩展。")]),s._v(" "),t("li",[s._v("非关系型数据库可以将数据拆分，存储在不同机器上，可以保存海量数据，解决内存大小有限的问题。称为水平扩展。")]),s._v(" "),t("li",[s._v("关系型数据库因为表之间存在关联关系，如果做水平扩展会给数据查询带来很多麻烦")])])])]),s._v(" "),t("h2",{attrs:{id:"认识redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#认识redis"}},[s._v("#")]),s._v(" 认识Redis")]),s._v(" "),t("p",[s._v("Redis诞生于2009年全称是"),t("strong",[s._v("Re")]),s._v("mote  "),t("strong",[s._v("D")]),s._v("ictionary "),t("strong",[s._v("S")]),s._v("erver 远程词典服务器，是一个基于内存的键值型NoSQL数据库。")]),s._v(" "),t("p",[t("strong",[s._v("特征")]),s._v("：")]),s._v(" "),t("ul",[t("li",[s._v("键值（key-value）型，value支持多种不同数据结构，功能丰富")]),s._v(" "),t("li",[s._v("单线程，每个命令具备原子性")]),s._v(" "),t("li",[s._v("低延迟，速度快（基于内存、IO多路复用、良好的编码）。")]),s._v(" "),t("li",[s._v("支持数据持久化")]),s._v(" "),t("li",[s._v("支持主从集群、分片集群")]),s._v(" "),t("li",[s._v("支持多语言客户端")])]),s._v(" "),t("p",[t("strong",[s._v("作者")]),s._v("：Antirez")]),s._v(" "),t("p",[s._v("Redis的官方网站地址：https://redis.io/")]),s._v(" "),t("h2",{attrs:{id:"安装redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装redis"}},[s._v("#")]),s._v(" 安装Redis")]),s._v(" "),t("p",[s._v("大多数企业都是基于Linux服务器来部署项目，而且Redis官方也没有提供Windows版本的安装包。因此课程中我们会基于Linux系统来安装Redis.")]),s._v(" "),t("p",[s._v("此处选择的Linux版本为CentOS 7.")]),s._v(" "),t("h3",{attrs:{id:"依赖库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#依赖库"}},[s._v("#")]),s._v(" 依赖库")]),s._v(" "),t("p",[s._v("Redis是基于C语言编写的，因此首先需要安装Redis所需要的gcc依赖：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" gcc tcl\n")])])]),t("h3",{attrs:{id:"上传安装包并解压"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上传安装包并解压"}},[s._v("#")]),s._v(" 上传安装包并解压")]),s._v(" "),t("p",[s._v("然后将课前资料提供的Redis安装包上传到虚拟机的任意目录：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/SyjanS5.png",alt:""}})]),s._v(" "),t("p",[s._v("例如，我放到了/usr/local/src 目录：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/01DTNCf.png",alt:""}})]),s._v(" "),t("p",[s._v("解压缩：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-xzf")]),s._v(" redis-6.2.6.tar.gz\n")])])]),t("p",[s._v("解压后：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/8V6zvCD.png",alt:"image-20211211080339076"}})]),s._v(" "),t("p",[s._v("进入redis目录：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" redis-6.2.6\n")])])]),t("p",[s._v("运行编译命令：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),t("p",[s._v("如果没有出错，应该就安装成功了。")]),s._v(" "),t("p",[s._v("默认的安装路径是在 "),t("code",[s._v("/usr/local/bin")]),s._v("目录下：")]),s._v(" "),t("p",[s._v("该目录已经默认配置到环境变量，因此可以在任意目录下运行这些命令。其中：")]),s._v(" "),t("ul",[t("li",[s._v("redis-cli：是redis提供的命令行客户端")]),s._v(" "),t("li",[s._v("redis-server：是redis的服务端启动脚本")]),s._v(" "),t("li",[s._v("redis-sentinel：是redis的哨兵启动脚本")])]),s._v(" "),t("h3",{attrs:{id:"启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动"}},[s._v("#")]),s._v(" 启动")]),s._v(" "),t("p",[s._v("redis的启动方式有很多种，例如：")]),s._v(" "),t("ul",[t("li",[s._v("默认启动")]),s._v(" "),t("li",[s._v("指定配置启动")]),s._v(" "),t("li",[s._v("开机自启")])]),s._v(" "),t("h3",{attrs:{id:"默认启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#默认启动"}},[s._v("#")]),s._v(" 默认启动")]),s._v(" "),t("p",[s._v("安装完成后，在任意目录输入redis-server命令即可启动Redis：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("redis-server\n")])])]),t("p",[s._v("如图：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/v7xWsqC.png",alt:""}})]),s._v(" "),t("p",[s._v("这种启动属于"),t("code",[s._v("前台启动")]),s._v("，会阻塞整个会话窗口，窗口关闭或者按下"),t("code",[s._v("CTRL + C")]),s._v("则Redis停止。不推荐使用。")]),s._v(" "),t("h3",{attrs:{id:"指定配置启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#指定配置启动"}},[s._v("#")]),s._v(" 指定配置启动")]),s._v(" "),t("p",[s._v("如果要让Redis以"),t("code",[s._v("后台")]),s._v("方式启动，则必须修改Redis配置文件，就在我们之前解压的redis安装包下（"),t("code",[s._v("/usr/local/src/redis-6.2.6")]),s._v("），名字叫redis.conf：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/image-20211211082225509.png",alt:"image-20211211082225509"}})]),s._v(" "),t("p",[s._v("我们先将这个配置文件备份一份：")]),s._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("cp redis.conf redis.conf.bck\n")])])]),t("p",[s._v("然后修改redis.conf文件中的一些配置：")]),s._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 允许访问的地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问，生产环境不要设置为0.0.0.0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("bind")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("0.0.0.0")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 守护进程，修改为yes后即可后台运行")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("daemonize")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("yes ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 密码，设置后访问Redis必须输入密码-没有设置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("requirepass")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("123321")]),s._v("\n")])])]),t("p",[s._v("Redis的其它常见配置：")]),s._v(" "),t("div",{staticClass:"language-properties extra-class"},[t("pre",{pre:!0,attrs:{class:"language-properties"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 监听的端口")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("port")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("6379")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 工作目录，默认是当前目录，也就是运行redis-server时的命令，日志、持久化等文件会保存在这个目录")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("dir")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 数据库数量，设置为1，代表只使用1个库，默认有16个库，编号0~15")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("databases")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置redis能够使用的最大内存-没有设置")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("maxmemory")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("512mb  ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日志文件，默认为空，不记录日志，可以指定日志文件名")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("logfile")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v('"redis.log"')]),s._v("\n")])])]),t("p",[s._v("启动Redis：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进入redis安装目录 ")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/src/redis-6.2.6\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\nredis-server redis.conf\n")])])]),t("p",[s._v("停止服务：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 利用redis-cli来执行 shutdown 命令，即可停止 Redis 服务，")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 因为之前配置了密码，因此需要通过 -u 来指定密码")]),s._v("\nredis-cli "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("123321")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v("\n")])])]),t("h3",{attrs:{id:"开机自启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开机自启"}},[s._v("#")]),s._v(" 开机自启")]),s._v(" "),t("p",[s._v("我们也可以通过配置来实现开机自启。")]),s._v(" "),t("p",[s._v("首先，新建一个系统服务文件：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/systemd/system/redis.service\n")])])]),t("p",[s._v("内容如下：")]),s._v(" "),t("div",{staticClass:"language-conf extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[Unit]\nDescription=redis-server\nAfter=network.target\n\n[Service]\nType=forking\nExecStart=/usr/local/bin/redis-server /usr/local/src/redis-6.2.6/redis.conf\nPrivateTmp=true\n\n[Install]\nWantedBy=multi-user.target\n")])])]),t("p",[s._v("然后重载系统服务：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("systemctl daemon-reload\n")])])]),t("p",[s._v("现在，我们可以用下面这组命令来操作redis了：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动")]),s._v("\nsystemctl start redis\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 停止")]),s._v("\nsystemctl stop redis\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启")]),s._v("\nsystemctl restart redis\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看状态")]),s._v("\nsystemctl status redis\n")])])]),t("p",[s._v("执行下面的命令，可以让redis开机自启：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" redis\n")])])]),t("h2",{attrs:{id:"redis桌面客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis桌面客户端"}},[s._v("#")]),s._v(" Redis桌面客户端")]),s._v(" "),t("p",[s._v("安装完成Redis，我们就可以操作Redis，实现数据的CRUD了。这需要用到Redis客户端，包括：")]),s._v(" "),t("ul",[t("li",[s._v("命令行客户端")]),s._v(" "),t("li",[s._v("图形化桌面客户端")]),s._v(" "),t("li",[s._v("编程客户端")])]),s._v(" "),t("h3",{attrs:{id:"redis命令行客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis命令行客户端"}},[s._v("#")]),s._v(" Redis命令行客户端")]),s._v(" "),t("p",[s._v("Redis安装完成后就自带了命令行客户端：redis-cli，使用方式如下：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("redis-cli "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("options"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("commonds"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),t("p",[s._v("其中常见的options有：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("-h 127.0.0.1")]),s._v("：指定要连接的redis节点的IP地址，默认是127.0.0.1")]),s._v(" "),t("li",[t("code",[s._v("-p 6379")]),s._v("：指定要连接的redis节点的端口，默认是6379")]),s._v(" "),t("li",[t("code",[s._v("-a 123321")]),s._v("：指定redis的访问密码")])]),s._v(" "),t("p",[s._v("其中的commonds就是Redis的操作命令，例如：")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("ping")]),s._v("：与redis服务端做心跳测试，服务端正常会返回"),t("code",[s._v("pong")])])]),s._v(" "),t("p",[s._v("不指定commond时，会进入"),t("code",[s._v("redis-cli")]),s._v("的交互控制台：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/OYYWPNo.png",alt:""}})]),s._v(" "),t("h3",{attrs:{id:"图形化桌面客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#图形化桌面客户端"}},[s._v("#")]),s._v(" 图形化桌面客户端")]),s._v(" "),t("p",[s._v("GitHub上的大神编写了Redis的图形化桌面客户端，地址：https://github.com/uglide/RedisDesktopManager")]),s._v(" "),t("p",[s._v("不过该仓库提供的是RedisDesktopManager的源码，并未提供windows安装包。")]),s._v(" "),t("p",[s._v("在下面这个仓库可以找到安装包：https://github.com/lework/RedisDesktopManager-Windows/releases")]),s._v(" "),t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("p",[s._v("在课前资料中可以找到Redis的图形化桌面客户端：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/BZ4Agbi.png",alt:""}})]),s._v(" "),t("p",[s._v("解压缩后，运行安装程序即可安装：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/hguGHbX.png",alt:""}})]),s._v(" "),t("p",[s._v("安装完成后，在安装目录下找到rdm.exe文件：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/hwK5LQ8.png",alt:""}})]),s._v(" "),t("p",[s._v("双击即可运行：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/6hUqslY.png",alt:""}})]),s._v(" "),t("h3",{attrs:{id:"建立连接"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#建立连接"}},[s._v("#")]),s._v(" 建立连接")]),s._v(" "),t("p",[s._v("点击左上角的"),t("code",[s._v("连接到Redis服务器")]),s._v("按钮：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/9qTGyoN.png",alt:""}})]),s._v(" "),t("p",[s._v("在弹出的窗口中填写Redis服务信息：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/DshNnKC.png",alt:""}})]),s._v(" "),t("p",[s._v("点击确定后，在左侧菜单会出现这个链接：")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/A2cOm7Q.png",alt:""}})]),s._v(" "),t("p",[s._v("点击即可建立连接了。")]),s._v(" "),t("p",[t("img",{attrs:{src:"/assets/%E5%90%8E%E7%AB%AF/%E6%95%B0%E6%8D%AE%E5%BA%93/Redis/ja8Fd9s.png",alt:""}})]),s._v(" "),t("p",[s._v("Redis默认有16个仓库，编号从0至15.  通过配置文件可以设置仓库数量，但是不超过16，并且不能自定义仓库名称。")]),s._v(" "),t("p",[s._v("如果是基于redis-cli连接Redis服务，可以通过select命令来选择数据库：")]),s._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择 0号库")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);